<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Technical Specification Presentation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
        }
        h1, h2, h3 {
            margin-top: 1em;
        }
        pre {
            background: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
        }
        .img-container {
            text-align: center;
        }
    </style>
</head>
<body>

<h1>Technical Specification Presentation</h1>

<hr>

<h2>1. High-Level System Architecture</h2>
<p>The system architecture consists of the following components:</p>
<ul>
    <li><strong>Web Component (Product Tour)</strong>: A custom web component built using Web Components API.</li>
    <li><strong>CDN (Akamai)</strong>: Hosts the static assets (JS, CSS, images) for the Product Tour.</li>
    <li><strong>GitHub Actions</strong>: Automates the CI/CD pipeline for releasing and publishing assets.</li>
    <li><strong>Analytics (Adobe Analytics)</strong>: Tracks user interactions and events.</li>
    <li><strong>Host Application</strong>: Embeds the Product Tour web component.</li>
</ul>
<div class="img-container">
    <img src="Screenshot 2025-01-11 012526.jpg" alt="High-Level System Architecture">
</div>

<hr>

<h2>2. Application Architecture</h2>
<p>The Product Tour web component is built using the following structure:</p>
<ul>
    <li><strong>Shadow DOM</strong>: Encapsulates styles and markup.</li>
    <li><strong>Custom Elements</strong>: Defines the <code>product-tour</code> element.</li>
    <li><strong>Event System</strong>: Dispatches custom events for user interactions.</li>
    <li><strong>Dynamic Content Loading</strong>: Fetches and renders content dynamically.</li>
</ul>
<div class="img-container">
    <img src="Screenshot 2025-01-11 012439.jpg" alt="Application Architecture">
</div>

<hr>

<h2>3. CI/CD Pipeline</h2>
<p>The CI/CD pipeline is powered by GitHub Actions and includes the following steps:</p>
<ol>
    <li><strong>Development & Testing</strong>: Developers complete development and testing.</li>
    <li><strong>Release Creation</strong>: A new release is created on GitHub with semantic versioning.</li>
    <li><strong>Asset Publishing</strong>: GitHub Actions publishes assets to the Akamai CDN.</li>
    <li><strong>Cache Purge</strong>: The CDN cache is purged to ensure the latest assets are served.</li>
</ol>
<div class="img-container">
    <img src="Screenshot 2025-01-11 012130.jpg" alt="CI/CD Pipeline">
</div>

<hr>

<h2>4. Versioning</h2>
<ul>
    <li><strong>Semantic Versioning</strong>: Releases follow the <code>vX.Y.Z</code> format (e.g., <code>v1.0.2</code>).</li>
    <li><strong>Versioned URLs</strong>: Assets are served from versioned paths (e.g., <code>https://cdn.udex.services.sap.com/dxf/v1.0.2/product-tour/product-tour.js</code>).</li>
    <li><strong>Latest Version</strong>: A <code>latest</code> alias is maintained for the most recent release (e.g., <code>https://cdn.udex.services.sap.com/dxf/latest/product-tour/product-tour.js</code>).</li>
</ul>

<hr>

<h2>5. Analytics Integration</h2>
<p>The Product Tour integrates with Adobe Analytics for tracking user interactions. Key features include:</p>
<ul>
    <li><strong>Custom Events</strong>: Events like <code>tourStarted</code>, <code>imageLoaded</code>, and <code>accordionHeaderClicked</code> are dispatched.</li>
    <li><strong>Data Layer</strong>: Event data is populated in the Adobe Analytics data layer.</li>
    <li><strong>Link Tracking</strong>: Interactive elements include <code>data-analytics-aa</code> attributes for tracking.</li>
</ul>
<div class="img-container">
    <img src="path_to_diagram_image_4.png" alt="Analytics Integration">
</div>

<hr>

<h2>6. Event System</h2>
<p>The event system is designed to:</p>
<ul>
    <li><strong>Bubble Events</strong>: Custom events bubble up to the host application.</li>
    <li><strong>Cross Shadow DOM Boundaries</strong>: Events use the <code>composed: true</code> flag to cross shadow DOM boundaries.</li>
    <li><strong>Logging</strong>: Events are logged for debugging in development mode.</li>
</ul>
<div class="img-container">
    <img src="path_to_diagram_image_5.png" alt="Event System">
</div>

<hr>

<h2>7. Key Technical Requirements</h2>
<ol>
    <li><strong>Event Bubbling</strong>: Ensure events bubble up to the host application.</li>
    <li><strong>Adobe Analytics Integration</strong>: Populate the data layer with event details.</li>
    <li><strong>Performance Optimization</strong>: Use passive event listeners and minimize payload size.</li>
    <li><strong>Cross-Browser Compatibility</strong>: Support all major browsers with polyfills if necessary.</li>
    <li><strong>Logging</strong>: Log events in development mode for debugging.</li>
</ol>

<hr>

<h2>8. Integration Touchpoints</h2>
<ul>
    <li><strong>Host Application</strong>: Embeds the Product Tour web component.</li>
    <li><strong>CDN</strong>: Serves static assets.</li>
    <li><strong>GitHub Actions</strong>: Automates the release and publishing process.</li>
    <li><strong>Adobe Analytics</strong>: Tracks user interactions.</li>
</ul>
<div class="img-container">
    <img src="path_to_diagram_image_6.png" alt="Integration Touchpoints">
</div>

<hr>

<h2>9. GitHub Actions Workflow</h2>
<p>The GitHub Actions workflow (<code>publish.yaml</code>) includes:</p>
<ol>
    <li><strong>Checkout Code</strong>: Pulls the latest code from the repository.</li>
    <li><strong>Prepare Environment</strong>: Sets up the environment variables.</li>
    <li><strong>Upload to Akamai</strong>: Uploads assets to Akamai NetStorage.</li>
    <li><strong>Purge Cache</strong>: Purges the CDN cache to serve the latest assets.</li>
</ol>
<div class="img-container">
    <img src="path_to_diagram_image_7.png" alt="GitHub Actions Workflow">
</div>

<hr>

<h2>10. Future Enhancements</h2>
<ul>
    <li><strong>Standardized Event System</strong>: Develop a standardized approach for event dispatch and capture across web components.</li>
    <li><strong>Performance Optimization</strong>: Implement debouncing for frequent events.</li>
    <li><strong>Cross-Browser Testing</strong>: Ensure compatibility with older browsers using polyfills.</li>
    <li><strong>Documentation</strong>: Create comprehensive documentation for developers integrating the web component.</li>
</ul>

<hr>

<p>This presentation provides a high-level overview of the system and application architecture, CI/CD pipeline, analytics integration, and key technical requirements. Let me know if you need further details or additional diagrams!</p>
<div>
    <textarea rows="30" width="90%cols="33">
          "system_prompt": "You are a Solution Architect. A Senior Solutions Architect specializing in web components, design systems, and enterprise frontend architectures. Your responsibility is to define and document architectural patterns, integration touchpoints, technical requirements, performance targets, and security controls.",
          "user_prompt": "please review these documents and create presentation technical specification well multiple mermaid grahs showing the high level system and application architectre well analytics cdn git actions and versioning",
          "files": [
            {
              "name": "cicd-release.md",
              "format": "",
              "content": "# Digital Experience Fragments\r\n\r\nEnables teams across SAP to engineer, release and embed web based apps into the digital experience; enabling portable, multi-homed deployments\r\n\r\n## Publishing new releases\r\n\r\nA simple release and publish workflow has been setup to roll out new versions of Digital Experience Fragments. The process is as follows:\r\n\r\n1. Finish development + successful testing\r\n2. Create a new release here: https://github.tools.sap/sapudex/digital-experience-fragments/releases/new\r\n    1. Choose tag: Create a new tag on publishing following [semantic versioning](https://semver.org/), e.g. v1.0.2\r\n    2. Choose `main` branch as target\r\n    3. Press `Generate release notes`\r\n    4. Check release title is equal to tag name and check release notes\r\n    5. Publish release\r\n3. Publishing a new release will trigger a GitHub Action to publish the needed Digital Experience Fragments to UDEx CDN\r\n    * Status of the Action can be checked here: https://github.tools.sap/sapudex/digital-experience-fragments/actions/workflows/publish.yaml\r\n\r\nThe published assets are available in the UDEx CDN in a:\r\n* versioned form: https://cdn.udex.services.sap.com/dxf/v0.0.1/product-tour/product-tour.js\r\n* latest form: https://cdn.udex.services.sap.com/dxf/latest/product-tour/product-tour.js\r\n"
            },
            {
              "name": "cicd-release.yaml",
              "format": "",
              "content": "name: publish release to CDN\r\n\r\non:\r\n  release:\r\n    types: [published]\r\nconcurrency:\r\n  group: publishing\r\n\r\nenv:\r\n  DEBIAN_FRONTEND: noninteractive\r\n\r\njobs:\r\n  publish:\r\n    name: Publish\r\n    runs-on: [self-hosted, solinas]\r\n    steps:\r\n      - name: Checkout\r\n        uses: actions/checkout@v4\r\n\r\n      - name: Prepare env\r\n        id: prepare-env\r\n        run: |\r\n          echo \"SOURCE_DIR=akamai\" >> $GITHUB_ENV\r\n          echo \"RELEASE_NAME=${{ github.event.release.tag_name }}\" >> $GITHUB_ENV\r\n\r\n      - name: Prepare Akamai upload content\r\n        id: prepare-akamai-upload-content\r\n        run: |\r\n          versioned_dir=${{ env.SOURCE_DIR }}/${{ env.RELEASE_NAME }}\r\n          mkdir -pv $versioned_dir\r\n\r\n          # This must be a relative symlink in order to work after rsyning it\r\n          ln -sfv ./${{ env.RELEASE_NAME }} ${{ env.SOURCE_DIR }}/latest\r\n\r\n          for fragment in product-tour; do\r\n            fragment_dir=$versioned_dir/$fragment\r\n            mkdir -p $fragment_dir\r\n\r\n            cp -av $fragment/$fragment.js $fragment_dir/\r\n            cp -av $fragment/$fragment-event.js $fragment_dir/\r\n\r\n          done\r\n\r\n      # Result will be:\r\n      # - <cdn>/dxf/<release-version>/product-tour/prodcut-tour.js\r\n      # - <cdn>/dxf/<release-version>/product-tour/prodcut-tour-event.js\r\n      # - <cdn>/dxf/latest -> <cdn>/dxf/<release-version>\r\n\r\n      - name: Upload to Akamai Netstorage\r\n        uses: sapudex/actions/akamai/netstorage-upload@v1\r\n        with:\r\n          ssh-private-key: ${{ secrets.SSH_KEY_AKAMAI_UPLOAD }}\r\n          source-directory: ${{ env.SOURCE_DIR }}/\r\n          namespace: ${{ vars.CDN_NAMESPACE }}\r\n\r\n      - name: Purge Cache\r\n        uses: sapudex/actions/akamai/purge-cache-by-tag@v1\r\n        with:\r\n          cache-tag: ${{ vars.CDN_CACHE_TAG }}\r\n          akamai-ccu-host: ${{ secrets.AKAMAI_CCU_HOST }}\r\n          akamai-ccu-client-token: ${{ secrets.AKAMAI_CCU_CLIENT_TOKEN }}\r\n          akamai-ccu-client-secret: ${{ secrets.AKAMAI_CCU_CLIENT_SECRET }}\r\n          akamai-ccu-access-token: ${{ secrets.AKAMAI_CCU_ACCESS_TOKEN }}"
            },
            {
              "name": "product-tour.js",
              "format": "text/javascript",
              "content": "class ProductTour extends HTMLElement { // 29-08-2024\r\n  constructor() {\r\n    super();\r\n    this.attachShadow({ mode: \"open\" });\r\n    this.shadowRoot.innerHTML = `<style>\r\n      :host {\r\n          display: block;\r\n      }\r\n@media (min-width: 1em) {\r\n  *, :after, :before {\r\n    box-sizing: border-box;\r\n  }\r\n  svg {\r\n    overflow: hidden;\r\n  }\r\n  p, h1, h2, h3, h4, h5 ,h6 {\r\n    margin: 0;\r\n  }\r\n  button, a {\r\n    cursor: pointer;\r\n  }\r\n  img, svg {\r\n    display: block;\r\n  }\r\n  .visible-hidden {\r\n    /* Screen readers hiden link */\r\n    clip: rect(1px, 1px, 1px, 1px);\r\n    height: 1px;\r\n    overflow: hidden;\r\n    position: absolute;\r\n    white-space: nowrap;\r\n    width: 1px;\r\n  }\r\n  .visible-hidden:focus {\r\n    clip: auto;\r\n    height: auto;\r\n    overflow: auto;\r\n    position: absolute;\r\n    width: auto;\r\n    top: -22px;\r\n  }\r\n\r\n\r\n  .gt_container {\r\n    font-size: 1rem;\r\n    line-height: 1;\r\n    text-align: left;\r\n  }\r\n  .ds--grid .row {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin-right: -8px;\r\n    margin-left: -8px;\r\n  }\r\n  .ds--grid [class*=col-] {\r\n    position: relative;\r\n    width: 100%;\r\n    padding-right: 8px;\r\n    padding-left: 8px;\r\n  }\r\n  .gt_container .col-3 {\r\n    flex: 0 0 25%;\r\n    max-width: 25%;\r\n  }\r\n  .gt_container .col-9 {\r\n    flex: 0 0 75%;\r\n    max-width: 75%;\r\n  }\r\n  .gt_container.gt_phone .col-3,\r\n  .gt_container.gt_phone .col-9 {\r\n    flex: 0 0 50%;\r\n    max-width: 50%;\r\n  }\r\n  .gt_container .col-12 {\r\n    flex: 0 0 100%;\r\n    max-width: 100%;\r\n  }\r\n  .gt_container .d-none {\r\n    display: none;\r\n  }\r\n}\r\n@media (min-width: 640px) {\r\n  .ds--grid .row {\r\n    margin-right: -16px;\r\n    margin-left: -16px;\r\n  }\r\n  .ds--grid [class*=col-] {\r\n    padding-right: 16px;\r\n    padding-left: 16px;\r\n  }\r\n}\r\n@media (min-width: 980px) {\r\n  .ds--grid .row {\r\n    margin-right: -24px;\r\n    margin-left: -24px;\r\n  }\r\n  .ds--grid [class*=col-] {\r\n    padding-right: 24px;\r\n    padding-left: 24px;\r\n  }\r\n}\r\n@media (min-width: 1280px) {\r\n  .gt_container.gt_phone .col-3,\r\n  .gt_container.gt_phone .col-9 {\r\n    flex: 0 0 33%;\r\n    max-width: 33%;\r\n  }\r\n}\r\n\r\n/* Custom CSS */\r\n\r\n@media (min-width: 1em) {\r\n  .gt_button-icon {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 42px;\r\n    height: 42px;\r\n    /* width: 24px;\r\n    height: 24px; */\r\n    padding: 0;\r\n    cursor: pointer;\r\n    border: 1px solid transparent;\r\n    border-radius: 8px;\r\n    background: none;\r\n    flex-shrink: 0;\r\n    transition: fill .25s linear;\r\n    transition-property: border, background;\r\n  }\r\n\r\n  .gt_button-icon svg {\r\n    fill: #0040B0;\r\n    width: 7px;\r\n    height: 12px;\r\n  }\r\n\r\n  .gt_button-icon:hover {\r\n    background: #EAECEE;\r\n    border: 1px solid #475E75;\r\n  }\r\n\r\n  .gt_button-icon:active {\r\n    background: #fff;\r\n    border: 1px solid #0040B0;\r\n  }\r\n\r\n  .gt_button-icon:focus {\r\n    outline: .125rem solid #007db8;\r\n    outline-offset: .125rem;\r\n  }\r\n  .gt_button-icon:hover:focus,\r\n  .gt_button-icon:active:focus {\r\n    outline: none;\r\n  }\r\n\r\n  .gt_button-icon:disabled {\r\n    pointer-events: none;\r\n    opacity: .4;\r\n  }\r\n}\r\n@media (min-width: 1em) {\r\n  .gt_button {\r\n    display: flex;\r\n    align-content: center;\r\n    align-items: center;\r\n    justify-content: center;\r\n    text-decoration: none;\r\n    text-align: center;\r\n    font-family: \"72 Brand\",\"72 Brand Variable\", \"Arial\", \"Helvetica\", sans-serif;\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n    line-height: 18px;\r\n    padding: 8px 9px;\r\n    margin: 0;\r\n    border: 1px solid #fff;\r\n    border-radius: 8px;\r\n    color: #000;\r\n    background: #fff;\r\n    transition: background .25s linear;\r\n    transition-property: color, border, background;\r\n  }\r\n  .gt_button:focus {\r\n    outline: .125rem solid #007db8;\r\n    outline-offset: .125rem;\r\n  }\r\n  .gt_button:hover {\r\n    text-decoration: none;\r\n  }\r\n  .gt_button:hover:focus,\r\n  .gt_button:active:focus {\r\n    outline: none;\r\n  }\r\n  .gt_button:disabled {\r\n    pointer-events: none;\r\n    opacity: .4;\r\n  }\r\n\r\n  .gt_button-primary,\r\n  .gt_button-primary:visited {\r\n    color: #fff;\r\n    background: #0070F2;\r\n    border-color: #0070F2;\r\n  }\r\n  .gt_button-secondary,\r\n  .gt_button-secondary:visited {\r\n    color: #0040B0;\r\n    background: #fff;\r\n    border-color: #475E75;\r\n  }\r\n  .gt_button-tetriary,\r\n  .gt_button-tetriary:visited {\r\n    color: #0040B0;\r\n    background: transparent;\r\n    border-color: transparent;\r\n  }\r\n  .gt_button-primary:hover {\r\n    color: #fff;\r\n    background: #0040B0;\r\n    border-color: #0040B0;\r\n  }\r\n  .gt_button-secondary:hover,\r\n  .gt_button-tetriary:hover {\r\n    color: #0040B0;\r\n    background: #EAECEE;\r\n    border-color: #475E75;\r\n  }\r\n  .gt_button-primary:active,\r\n  .gt_button-secondary:active,\r\n  .gt_button-tetriary:active {\r\n    color: #0040B0;\r\n    background: #fff;\r\n    border-color: #0040B0;\r\n  }\r\n  @media (min-width:980px) {\r\n    .gt_button {\r\n      padding: 11px 13px;\r\n    }\r\n  }\r\n}\r\n@media (min-width: 1em) {\r\n  .gt_link {\r\n    display: flex;\r\n    align-content: center;\r\n    align-items: center;\r\n    justify-content: center;\r\n    text-decoration: none;\r\n    font-family: \"72 Brand\",\"72 Brand Variable\", \"Arial\", \"Helvetica\", sans-serif;\r\n    font-weight: 400;\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n    padding: 0;\r\n    margin: 0;\r\n    background: none;\r\n    border: none;\r\n    color: #0070F2;\r\n    transition: background .25s linear;\r\n    transition-property: color, background;\r\n  }\r\n  .gt_link .gt_link-icon {\r\n    width: 16px;\r\n    height: 24px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    align-content: center;\r\n  }\r\n  .gt_link .gt_link-icon.gt_link-icon-right {\r\n    margin-left: 4px;\r\n  }\r\n  .gt_link svg {\r\n    width: 6px;\r\n    height: 10px;\r\n    fill: #0070F2;\r\n    transition: fill .25s linear;\r\n  }\r\n  .gt_link:hover {\r\n    color: #0040B0;\r\n    text-decoration: underline;\r\n  }\r\n  .gt_link:hover svg {\r\n    fill: #0040B0;\r\n  }\r\n  .gt_link:active {\r\n    color: #00144A;\r\n    text-decoration: underline;\r\n  }\r\n  .gt_link:active svg {\r\n    fill: #00144A;\r\n  }\r\n  .gt_link:visited {\r\n    color: #002A86;\r\n    text-decoration: none;\r\n  }\r\n  .gt_link:visited svg {\r\n    fill: #002A86;\r\n  }\r\n  .gt_link:focus {\r\n    outline: .125rem solid #007db8;\r\n    outline-offset: .125rem;\r\n  }\r\n  .gt_link:hover:focus,\r\n  .gt_link:active:focus {\r\n    outline: none;\r\n  }\r\n}\r\n\r\n@media (min-width: 1em) {\r\n  .gt_focus:focus {\r\n    outline: .125rem solid #007db8;\r\n    outline-offset: .25rem\r\n  }\r\n  \r\n  .gt_focus:focus:active,\r\n  .gt_focus:focus:hover {\r\n    outline: 0\r\n  }\r\n  .gt_accordion.gt_open:not(:last-child) {\r\n    margin-bottom: 12px;\r\n  }\r\n\r\n  .gt_accordion-btn {\r\n    width: 100%;\r\n    position: relative;\r\n    background: radial-gradient(158.17% 654.81% at 0 17.43%, #fbfcfc 0, #f5f6f7 100%);\r\n    background: white;\r\n    padding: 12px 8px;\r\n    border: none;\r\n    border-bottom: 1px solid #D5DADD;\r\n    display: flex;\r\n    align-items: center;\r\n    align-content: center;\r\n  }\r\n  .gt_accordion-btn span {\r\n    width: 42px;\r\n    height: 42px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    align-content: center;\r\n    flex-shrink: 0;\r\n  }\r\n\r\n  .gt_accordion-btn svg {\r\n    width: 7px;\r\n    height: 12px;\r\n    fill: #0040B0;\r\n    transition: transform .25s linear;\r\n  }\r\n  .gt_open .gt_accordion-btn svg {\r\n    transform: rotate(90deg);\r\n  }\r\n  .gt_content-container {\r\n    position: relative;\r\n  }\r\n\r\n  .gt_accordion .gt_content-container {\r\n    margin-top: 20px;\r\n    margin-bottom: 20px;\r\n  }\r\n  .gt_hybrid_m .gt_accordion .gt_content-container,\r\n  .gt_phone .gt_accordion .gt_content-container {\r\n    padding: 12px;\r\n    box-shadow: 0px 10px 30px 0px rgba(34, 54, 73, .25);\r\n    border-radius: 24px;\r\n  }\r\n  .gt_hybrid_m .gt_accordion .gt_last-step .gt_content-container,\r\n  .gt_phone .gt_accordion .gt_last-step .gt_content-container {\r\n    padding: 0;\r\n    box-shadow: none;\r\n  }\r\n  .gt_hybrid_m .gt_accordion .gt_content-container img,\r\n  .gt_phone .gt_accordion .gt_content-container img {\r\n    border-radius: 16px;\r\n    max-width: 220px;\r\n    min-width: auto;\r\n  }\r\n  .gt_accordion .gt_last-step .gt_content-container {\r\n    margin-bottom: 0;\r\n  }\r\n  .gt_hybrid_m .gt_accordion .gt_last-step .gt_content-container,\r\n  .gt_phone .gt_accordion .gt_last-step .gt_content-container {\r\n    margin-top: 0;\r\n  }\r\n  .gt_accordion-text {\r\n    width: 100%;\r\n    margin-bottom: 12px;\r\n  }\r\n\r\n  .gt_accordion-content {\r\n    display: none;\r\n    position: relative;\r\n  }\r\n\r\n  .gt_accordion.gt_open .gt_accordion-content {\r\n    display: block;\r\n  }\r\n  .gt_hybrid_m .gt_accordion.gt_open .gt_accordion-content,\r\n  .gt_phone .gt_accordion.gt_open .gt_accordion-content {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n  }\r\n  .gt_last-step .gt_controls,\r\n  .gt_last-step .gt_accordion-text {\r\n    display: none;\r\n  }\r\n\r\n  .gt_image,\r\n  .gt_video {\r\n    border: 1px solid #EAECEE;\r\n    min-width: 100%;\r\n    width: 100%;\r\n  }\r\n\r\n  .gt_next svg {\r\n    transform: scale(-1, 1);\r\n  }\r\n\r\n  .gt_nav:first-child .gt_nav-content {\r\n    opacity: 0;\r\n  }\r\n  .gt_nav.gt_active:first-child .gt_nav-content {\r\n    opacity: 1;\r\n  }\r\n  .gt_nav.gt_active .gt_nav-content {\r\n    overflow: visible;\r\n  }\r\n\r\n  .gt_nav-btn {\r\n    background: 0 0;\r\n    border: none;\r\n    padding: 0;\r\n    position: relative;\r\n    margin: 0 12px 0 16px;\r\n    text-align: left;\r\n  }\r\n\r\n  .gt_nav-btn h3 {\r\n    transition: color .1s linear;\r\n    color: #000;\r\n    font-size: 20px;\r\n    line-height: 22px;\r\n    font-weight: 500;\r\n    font-family: \"72 Brand\",\"72 Brand Variable\", \"Arial\", \"Helvetica\", sans-serif;\r\n  }\r\n  .gt_nav-text,\r\n  .gt_nav-heightholdel,\r\n  .gt_accordion-text,\r\n  .gt_accordion-heightholdel {\r\n    color: #223548;\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n    font-weight: 400;\r\n    font-family: \"72 Brand\",\"72 Brand Variable\", \"Arial\", \"Helvetica\", sans-serif;\r\n  }\r\n  .gt_nav-text {\r\n    margin-top: 16px;\r\n    margin-bottom: 16px;\r\n  }\r\n  .gt_accordion-btn p {\r\n    color: #000;\r\n    font-size: 18px;\r\n    line-height: 20px;\r\n    font-weight: 500;\r\n    font-family: \"72 Brand\",\"72 Brand Variable\", \"Arial\", \"Helvetica\", sans-serif;\r\n    margin-left: 12px;\r\n    text-align: left;\r\n  }\r\n  .gt_controls {\r\n    width: 100%;\r\n    height: 42px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  .gt_controls p {\r\n    max-width: 150px;\r\n  }\r\n  .gt_container .gt_controls p {\r\n    width: 100%;\r\n    text-align: center;\r\n    color: #223548;\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n    font-weight: 400;\r\n    font-family: \"72 Brand\",\"72 Brand Variable\", \"Arial\", \"Helvetica\", sans-serif;\r\n  }\r\n\r\n  .gt_nav-btn:hover h3,\r\n  .gt_nav.gt_active .gt_nav-btn h3 {\r\n    color: #0070F2;\r\n  }\r\n\r\n  .gt_nav-wrapper,\r\n  .gt_nav.gt_active {\r\n    position: relative;\r\n  }\r\n  .gt_nav-wrapper::before {\r\n    content: \"\";\r\n    position: absolute;\r\n    width: 1px;\r\n    height: 100%;\r\n    background: #D5DADD;\r\n    left: 0;\r\n    top: 0;\r\n    pointer-events: none;\r\n  }\r\n\r\n  .gt_nav.gt_active::before {\r\n    content: \"\";\r\n    position: absolute;\r\n    width: 3px;\r\n    height: 100%;\r\n    background: #0070F2;\r\n    left: 0;\r\n    top: 0;\r\n    pointer-events: none;\r\n    border-radius: 0px 4px 4px 0px;\r\n  }\r\n\r\n  .gt_nav-separator {\r\n    height: 32px;\r\n    width: 100%;\r\n  }\r\n\r\n  .gt_nav-content {\r\n    position: relative;\r\n    max-height: 0;\r\n    padding: 0 12px 0 16px;\r\n    overflow: hidden;\r\n    transition: max-height .25s linear;\r\n    transition-property: max-height, opacity;\r\n    transition-duration: .25s, .5s;\r\n  }\r\n  .gt_mobile-extra {\r\n    margin-top: 56px;\r\n  }\r\n  .gt_mobile-extra_buttons {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n  }\r\n\r\n  .gt_modal {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    align-content: center;\r\n    left: 0;\r\n    right: 0;\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    background: rgba(0, 0, 0, .9);\r\n    z-index: 2000;\r\n  }\r\n\r\n  .gt_close {\r\n    width: 32px;\r\n    height: 32px;\r\n    position: absolute;\r\n    right: -45px;\r\n    top: -45px;\r\n    border: none;\r\n    background: 0 0;\r\n    padding: 0;\r\n  }\r\n\r\n  .gt_close svg {\r\n    width: 32px;\r\n    height: 32px;\r\n    fill: #fff;\r\n  }\r\n\r\n  .gt_close:hover svg {\r\n    opacity: .75;\r\n  }\r\n\r\n  .gt_hide-img img {\r\n    display: none;\r\n  }\r\n  .gt_mobile .gt_content-modal {\r\n    margin-top: 76px;\r\n  }\r\n  .gt_container .gt_desktop {\r\n    display: none;\r\n  }\r\n  .gt_desktop .gt_content-modal {\r\n    position: absolute;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    top: 20px;\r\n    bottom: 20px;\r\n    left: 20px;\r\n    right: 20px;\r\n    background: rgba(0, 0, 0, .5);\r\n    z-index: 2;\r\n  }\r\n  .gt_phone .gt_desktop .gt_content-modal {\r\n    top: 12px;\r\n    bottom: 12px;\r\n    left: 12px;\r\n    right: 12px;\r\n    border-radius: 16px;\r\n  }\r\n\r\n  .gt_content-info {\r\n    width: 475px;\r\n    background: #fff;\r\n    padding: 24px 32px;\r\n    box-shadow: 0px 20px 80px 0px rgba(34, 54, 73, .25);\r\n  }\r\n  .gt_phone .gt_content-info {\r\n    width: calc(100% - 18px);\r\n    padding: 24px 12px;\r\n  }\r\n\r\n  .gt_content-info_buttons {\r\n    width: 100%;\r\n    display: flex;\r\n    margin-bottom: 16px;\r\n  }\r\n  .gt_phone .gt_content-info_buttons {\r\n    flex-wrap: wrap;\r\n  }\r\n  .gt_phone .gt_content-info_buttons .gt_button {\r\n    padding: 5.5px 10px;\r\n  }\r\n\r\n  .gt_content-info_link {\r\n    display: flex;\r\n  }\r\n  .gt_content-modal_buttons {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-bottom: 20px;\r\n  }\r\n  .gt_content-modal_buttons .gt_button:not(:last-child) {\r\n    margin-bottom: 12px;\r\n  }\r\n  .gt_mobile-extra_buttons .gt_button:not(:last-child) {\r\n    margin-bottom: 12px;\r\n  }\r\n\r\n  .gt_content-info_buttons .gt_button:not(:last-child) {\r\n    margin-right: 16px;\r\n  }\r\n  .gt_phone .gt_content-info_buttons .gt_button:not(:last-child) {\r\n    margin-right: 0;\r\n    margin-bottom: 16px;\r\n  }\r\n  .gt_desktop-extra_buttons .gt_button:not(:last-child) {\r\n    margin-right: 12px;\r\n  }\r\n  .gt_content-modal_link {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n\r\n  .gt_enlarge {\r\n    display: none;\r\n    margin-top: 20px;\r\n  }\r\n\r\n  [data-type=image] .gt_enlarge {\r\n    display: flex;\r\n  }\r\n\r\n  .gt_video-container .gt_image,\r\n  .gt_video-container .gt_video-btn_container {\r\n    display: none;\r\n  }\r\n  .gt_video-btn_container {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n  .gt_video-btn {\r\n    display: block;\r\n    border-radius: 50%;\r\n    margin: 0;\r\n    padding: 0;\r\n    border: none;\r\n    background: none;\r\n    opacity: 0;\r\n    animation: btnFadeIn 1s linear forwards;\r\n  }\r\n  .gt_video-btn:focus {\r\n    outline: .125rem solid #007db8;\r\n    outline-offset: .125rem;\r\n  }\r\n  .gt_video-btn:hover:focus,\r\n  .gt_video-btn:active:focus {\r\n    outline: none;\r\n  }\r\n  @keyframes btnFadeIn {\r\n    0% {opacity: 0;}\r\n    100% {opacity: 1;}\r\n  }\r\n  .gt_video-btn svg {\r\n    width: 40px;\r\n    height: 40px;\r\n    fill: #475E75;\r\n  }\r\n\r\n  .gt_enlarge svg {\r\n    width: 18px;\r\n    height: 18px;\r\n    margin-left: 8px;\r\n  }\r\n\r\n\r\n  .gt_desktop-extra {\r\n    width: 100%;\r\n  }\r\n  .gt_desktop-extra > div,\r\n  .gt_desktop-extra_buttons {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n  .gt_desktop-extra h4 {\r\n    font-family: \"72 Brand\",\"72 Brand Variable\", \"Arial\", \"Helvetica\", sans-serif;\r\n    font-weight: 500;\r\n    font-size: 20px;\r\n    line-height: 22px;\r\n    color: #223548;\r\n    text-align: center;\r\n    margin-top: 40px;\r\n    margin-bottom: 24px;\r\n  }\r\n  .gt_desktop-extra2 h4 {\r\n    font-family: \"72 Brand\",\"72 Brand Variable\", \"Arial\", \"Helvetica\", sans-serif;\r\n    font-weight: 500;\r\n    font-size: 18px;\r\n    line-height: 20px;\r\n    color: #223548;\r\n    text-align: center;\r\n    margin-top: 48px;\r\n    margin-bottom: 24px;\r\n  }\r\n  .gt_mobile-extra h4 {\r\n    font-family: \"72 Brand\",\"72 Brand Variable\", \"Arial\", \"Helvetica\", sans-serif;\r\n    font-weight: 500;\r\n    font-size: 18px;\r\n    line-height: 20px;\r\n    color: #223548;\r\n    text-align: center;\r\n    margin-bottom: 20px;\r\n  }\r\n  .gt_mobile .gt_content-modal h3 {\r\n    font-family: \"72 Brand\",\"72 Brand Variable\", \"Arial\", \"Helvetica\", sans-serif;\r\n    font-weight: 500;\r\n    font-size: 18px;\r\n    line-height: 20px;\r\n    color: #223548;\r\n    text-align: center;\r\n    margin-bottom: 20px;\r\n  }\r\n  .gt_content-info h3 {\r\n    font-family: \"72 Brand\",\"72 Brand Variable\", \"Arial\", \"Helvetica\", sans-serif;\r\n    font-weight: 500;\r\n    font-size: 24px;\r\n    line-height: 26px;\r\n    color: #223548;\r\n    margin-bottom: 24px;\r\n  }\r\n  .gt_phone .gt_content-info h3 {\r\n    font-size: 20px;\r\n    line-height: 22px;\r\n  }\r\n}\r\n\r\n\r\n\r\n@media (min-width: 640px) {\r\n  .gt_video-btn svg {\r\n    width: 60px;\r\n    height: 60px;\r\n  }\r\n  .gt_content-container {\r\n    background: #fff;\r\n    box-shadow: 0px 2px 8px 0px rgba(34, 54, 73, .3);\r\n    padding: 13px;\r\n    border-radius: 8px;\r\n  }\r\n  .gt_phone .gt_content-container {\r\n    border-radius: 24px;\r\n    padding: 12px;\r\n    box-shadow: 0px 10px 30px 0px rgba(34, 54, 73, 0.25);\r\n  }\r\n  .gt_phone .gt_content-container img {\r\n    border-radius: 16px;\r\n    max-width: 100%;\r\n  }\r\n  .gt_mobile-extra h4 {\r\n    font-size: 20px;\r\n    line-height: 22px;\r\n    margin-bottom: 24px;\r\n  }\r\n  .gt_accordion .gt_content-container {\r\n    margin-bottom: 40px;\r\n  }\r\n  .gt_accordion-text {\r\n    margin-bottom: 20px;\r\n  }\r\n  .gt_mobile .gt_content-modal {\r\n    margin-top: 0;\r\n  }\r\n  .gt_mobile .gt_content-modal h3 {\r\n    margin-bottom: 32px;\r\n  }\r\n  .gt_content-modal_buttons {\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-bottom: 16px;\r\n  }\r\n  .gt_content-modal_buttons .gt_button:not(:last-child) {\r\n    margin-bottom: 0;\r\n    margin-right: 16px;\r\n  }\r\n  .gt_mobile-extra_buttons .gt_button:not(:last-child) {\r\n    margin-bottom: 0;\r\n    margin-right: 12px;\r\n  }\r\n  .gt_mobile-extra_buttons {\r\n    flex-direction: row;\r\n  }\r\n  .gt_container.gt_phone .gt_desktop {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n  .gt_container.gt_phone .gt_mobile {\r\n    display: none;\r\n  }\r\n  .gt_container.gt_phone .col-9 {\r\n    max-width: 320px;\r\n  }\r\n  .gt_hybrid_m .gt_accordion .gt_content-container img {\r\n    max-width: 412px;\r\n  }\r\n}\r\n@media (min-width: 980px) {\r\n  .gt_video-btn svg {\r\n    width: 90px;\r\n    height: 90px;\r\n  }\r\n  .gt_content-container {\r\n    box-shadow: 0px 10px 30px 0px rgba(34, 54, 73, .25);\r\n    padding: 20px;\r\n    border-radius: 12px;\r\n  }\r\n  .gt_desktop-extra2 h4 {\r\n    font-size: 20px;\r\n    line-height: 22px;\r\n  }\r\n  .gt_content-info h3 {\r\n    margin-bottom: 32px;\r\n  }\r\n  .gt_phone .gt_content-info h3 {\r\n    font-size: 24px;\r\n    line-height: 26px;\r\n  }\r\n  .gt_phone .gt_content-info_buttons .gt_button {\r\n    padding: 11px 13px;\r\n  }\r\n  .gt_phone .gt_content-info {\r\n    width: calc(100% - 40px);\r\n    padding: 24px 32px;\r\n  }\r\n  .gt_phone .gt_content-container {\r\n    padding: 20px;\r\n  }\r\n  .gt_phone .gt_desktop .gt_content-modal {\r\n    top: 20px;\r\n    bottom: 20px;\r\n    left: 20px;\r\n    right: 20px;\r\n  }\r\n  .gt_container.gt_phone .col-9 {\r\n    max-width: 400px;\r\n  }\r\n  .gt_hybrid_m .gt_accordion .gt_content-container img {\r\n    max-width: 275px;\r\n  }\r\n}\r\n@media (min-width: 1280px) {\r\n  .gt_container .gt_desktop {\r\n    display: flex;\r\n  }\r\n  .gt_container .gt_mobile {\r\n    display: none;\r\n  }\r\n  .gt_desktop-extra2 h4 {\r\n    margin-top: 56px;\r\n  }\r\n}\r\n.gt_hybrid_m .gt_accordion-text {\r\n  text-align: center;\r\n}\r\n.gt_hybrid_d .gt_desktop .col-9 {\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n.gt_hybrid_d .gt_desktop .gt_image {\r\n  width: auto;\r\n  min-width: auto;\r\n  max-width: 300px;\r\n  max-height: 600px;\r\n  border-radius: 16px;\r\n}\r\n.gt_hybrid_d .gt_content-info {\r\n  width: calc(100% - 40px);\r\n  padding: 24px 32px;\r\n}\r\n.gt_hybrid_d .gt_content-info_buttons {\r\n  flex-wrap: wrap;\r\n}\r\n.gt_hybrid_d .gt_content-info_buttons .gt_button:not(:last-child) {\r\n  margin-right: 0;\r\n  margin-bottom: 16px;\r\n}\r\n.gt_hybrid_d .gt_content-modal {\r\n  border-radius: 16px;\r\n}\r\n    </style>`;\r\n    this.shadowRoot.innerHTML += `<section class=\"gt_container\"></section>`;\r\n    this.isDevMode = false; // Set to false in production\r\n  }\r\n\r\n  connectedCallback() {\r\n    this.initAttributes();\r\n    // tracking?\r\n    this.dispatchEvent(new CustomEvent('tourStarted', {\r\n      detail: { message: 'Tour has started!' },\r\n      bubbles: true,\r\n      composed: true\r\n    }));\r\n    console.log(\"tourStarted event dispatched\");\r\n    this.logEvent('tour-started', 'Tour has started');\r\n    // tracking?\r\n    this.fetchHTML(this.dataConfig, this.urlPrefix);\r\n  }\r\n\r\n  initAttributes() {\r\n    this.dataConfig = this.getAttribute(\"data-config\");\r\n    //console.log(this.dataset.config);\r\n    //this.urlPrefix = this.getAttribute(\"data-url-prefix\");\r\n    this.urlPrefix = this.dataConfig.split(\"/fragments/\")[0];\r\n\r\n    /*\r\n    Below are additional properties set in the html.\r\n    These are place holders until we understand parent/child communication for inherited config properties.\r\n    */ \r\n    this.tourTitle = this.getAttribute(\"data-title\");\r\n    this.campaignCode = this.getAttribute(\"data-campaign-code\");\r\n    this.targetUrl = this.getAttribute(\"data-target-url\");\r\n    this.userId = this.getAttribute(\"data-user-id\");\r\n\r\n    this.logEvent('attributes-initialized', `Initialized with dataConfig: ${this.dataConfig}, urlPrefix: ${this.urlPrefix}`);\r\n    this.localFlag = this.dataset.localDev;\r\n  }\r\n\r\n  logEvent(eventType, message) {\r\n    if (this.isDevMode) {\r\n      console.log(`Event: ${eventType}, \\nMessage: ${message}, \\nTimestamp: ${new Date().toISOString()}`);\r\n    }\r\n  }\r\n\r\n  async fetchHTML(url, urlPrefix) {\r\n    try {\r\n      const response = await fetch(url);\r\n      if (!response.ok) {\r\n        throw new Error(\"Network response was not ok\");\r\n      }\r\n      const html = await response.text();\r\n      this.parseMarkUp(html, urlPrefix);\r\n    } catch (error) {\r\n      console.error(\"Error fetching HTML:\", error);\r\n      this.logEvent('fetch-error', error.toString());\r\n    }\r\n  }\r\n\r\n  parseMarkUp(html, urlPrefix) {\r\n    const tempDiv = document.createElement(\"div\");\r\n    tempDiv.innerHTML = html;\r\n    console.log(\"plain markup\", tempDiv);\r\n\r\n    const elements = tempDiv.querySelectorAll(\".product-tour-section, .product-tour-step\");\r\n    let currentSection = 0;\r\n    let dataObject = { sections: [] };\r\n\r\n    elements.forEach((element) => {\r\n      //console.log(element);\r\n\r\n      let childRen = element.children;\r\n      let obj = {};\r\n      Array.from(childRen).forEach( el => {\r\n        let divs = el.querySelectorAll(\"div\");\r\n        let key = divs[0].textContent.trim();\r\n        let value = divs[1].textContent.trim();\r\n        let link = el.querySelector(\"a\");\r\n        if (link) {\r\n          obj[key+\"_link\"] = link.getAttribute(\"href\");\r\n        }\r\n        if (key === \"image\") {\r\n          value = divs[1].querySelector(\"picture\");\r\n          if (!!value) {\r\n            let pictureHTML = value.outerHTML;\r\n            pictureHTML = pictureHTML.replace(\r\n              /\"\\.\\/media_/g,\r\n              `\"${urlPrefix}/fragments/product-tours/media_`\r\n            );\r\n            let el = document.createElement(\"div\");\r\n            el.innerHTML = pictureHTML;\r\n            let imgPathArray = [];\r\n            let sources = el.querySelectorAll(\"source\");\r\n            sources.forEach( el => {\r\n              imgPathArray.push(el.srcset);\r\n            });\r\n            let imageEl = el.querySelector(\"img\");\r\n            //let imgPath = imageEl.src;\r\n            imgPathArray.push(imageEl.src);\r\n            obj.imgAltText = imageEl.alt;\r\n            obj.imgPathArray = imgPathArray;\r\n\r\n            obj.imgPath = imgPathArray[imgPathArray.length - 1];\r\n            //obj.imgPath = imgPathArray[0];\r\n          }\r\n        } else if (value.toLowerCase() === \"false\") {\r\n          value = false;\r\n        } else if (value.toLowerCase() === \"true\") {\r\n          value = true;\r\n        }\r\n        obj[key] = value;\r\n      });\r\n      //console.log(obj);\r\n\r\n      if (element.classList.contains(\"product-tour-section\")) {\r\n        currentSection++;\r\n        obj.steps = [];\r\n        dataObject.sections.push(obj);\r\n      } else if (element.classList.contains(\"product-tour-step\")) {\r\n        const text = obj.text || \"No text provided\";\r\n        const imgAltText = obj.imgAltText || \"\";\r\n        const type = obj.type || \"image\";\r\n        const imgHybridView = obj.imgHybridView || false;\r\n        const videoPath = obj.videoPath || \"\";\r\n        const imgPath = obj.imgPath || \"\";\r\n        const imgPathArray = obj.imgPathArray || [];\r\n\r\n        dataObject.sections[dataObject.sections.length - 1].steps.push({\r\n          text,\r\n          \"content\": {\r\n            type,\r\n            imgPath,\r\n            imgAltText,\r\n            imgHybridView,\r\n            videoPath,\r\n\r\n            imgPathArray,\r\n          }\r\n        });\r\n      }\r\n      \r\n    });\r\n\r\n    //this.logEvent('data-object-built', JSON.stringify(dataObject, null, 2));\r\n\r\n    this.fillConfigObject(dataObject);\r\n    this.buildTour();\r\n  }\r\n\r\n  fillConfigObject(data) {\r\n    let configObj = {\r\n      \"overview\": {\r\n        \"startAgainText\": \"Start tour again\", //Usually default\r\n      },\r\n      \"tours\": [],\r\n    };\r\n\r\n    data.sections.forEach( el => {\r\n      //console.log(el);\r\n      if (el.name === \"Overview\") {\r\n        configObj.overview.name = el.name;\r\n\r\n        configObj.overview.text = el.steps[0].text;\r\n        configObj.overview.type = el.steps[0].content.type;\r\n        configObj.overview.imgPath = el.steps[0].content.imgPath;\r\n        configObj.overview.imgPathArray = el.steps[0].content.imgPathArray;\r\n        configObj.overview.imgAltText = el.steps[0].content.imgAltText;\r\n        configObj.overview.imgHybridView = el.steps[0].content.imgHybridView;\r\n        configObj.overview.videoPath = el.steps[0].content.videoPath;\r\n\r\n        configObj.overview.bottomCTA1Text = el.cta1_text || \"\";\r\n        configObj.overview.finalSlideCTA1Text = el.cta1_text || \"\";\r\n        configObj.overview.bottomCTA1Link = el.cta1_url || \"\";\r\n        configObj.overview.finalSlideCTA1Link = el.cta1_url || \"\";\r\n\r\n        configObj.overview.bottomCTA2Text = el.cta2_text || \"\";\r\n        configObj.overview.finalSlideCTA2Text = el.cta2_text || \"\";\r\n        configObj.overview.bottomCTA2Link = el.cta2_url || \"\";\r\n        configObj.overview.finalSlideCTA2Link = el.cta2_url || \"\";\r\n\r\n        configObj.overview.bottomText = el.bottomText || \"Take the next step and learn.\";\r\n        configObj.overview.finalSlideTitle = el.finalSlideTitle || \"Ready to take the next step?\";\r\n        configObj.overview.ctaText = el.ctaText || \"Start the tour\";\r\n        configObj.overview.mode = el.mode;\r\n        //configObj.overview.xxx = el.xxx;\r\n      } else {\r\n        configObj.tours.push(el);\r\n      }\r\n    });\r\n    this.config = configObj;\r\n    this.pictureMode = true;\r\n    console.log(\"resulting config\", configObj);\r\n  }\r\n\r\n  buildTour() {\r\n    this.v = {\r\n      local: false, // Only for local env (mock SAP object)\r\n      phone: false, // Phone version of Product Tour\r\n      hybrid: false, // Hybrid version of Product Tour (based on desktop, phone should be false in this case)\r\n    };\r\n    switch (this.config.overview.mode) {\r\n      case \"phone\":\r\n        this.v.phone = true;\r\n        break;\r\n      case \"hybrid\":\r\n        this.v.hybrid = true;\r\n        break;\r\n      default: break;\r\n    }\r\n    this.v.equalHeight = true;\r\n    this.v.attribute = \"Guided Product Tour\";\r\n    if (this.localFlag === \"true\") {\r\n      this.v.local = true;\r\n    }\r\n    if (this.v.local) {\r\n      window.SAP = {\r\n        \"InfoGraphics\": {\r\n          \"createExtendLinkElement\": () => {return document.createElement(\"div\")},\r\n          \"getExtendLink\": () => {return false},\r\n        },\r\n      };\r\n    }\r\n    let container = this.shadowRoot.querySelector(\".gt_container\");\r\n    if (this.v.phone) {\r\n      container.classList.add(\"gt_phone\");\r\n      this.v.attribute = \"Guided Product Tour Phone\";\r\n    }\r\n    container.innerHTML = `<a href=\"#tour-end\" class=\"visible-hidden\">Skip the tour</a><div class=\"py--7\">\r\n        <div class=\"ds--grid\">\r\n          <div class=\"row gt_mobile\">\r\n            <div class=\"col-12 gt_mobile-main\">\r\n            </div>\r\n            <div class=\"col-12 gt_mobile-extra\">\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row gt_desktop\">\r\n            <div class=\"col-3\">\r\n              <div></div>\r\n            </div>\r\n            <div class=\"col-9\" data-type=\"image\">\r\n              <div class=\"gt_content-container\"></div>\r\n              <div class=\"gt_desktop-extra\">\r\n                <div class=\"\">\r\n                  <a href=\"javascript:void(0)\" class=\"gt_enlarge gt_button gt_button-tetriary\" aria-label=\"Enlarge screenshot\"\r\n                    data-analytics-aa-tracking=\"true\" data-analytics-aa-region=\"Body\" data-analytics-aa-mediatitle=\"${this.v.attribute} (desktop)\" data-analytics-aa-mediatype=\"Demo\" data-analytics-aa-linkname=\"Enlarge screenshot\" data-analytics-aa-linktitle=\"Enlarge screenshot\">\r\n                    Enlarge\r\n                    <svg width=\"12\" height=\"12\" viewBox=\"0 0 19 19\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M8.375 14.8018C7.36719 14.8018 6.41797 14.6143 5.52734 14.2393C4.63672 13.8643 3.85156 13.3486 3.17188 12.6924C2.51562 12.0361 2 11.2627 1.625 10.3721C1.25 9.48145 1.0625 8.52051 1.0625 7.48926C1.0625 6.45801 1.25 5.49707 1.625 4.60645C2 3.71582 2.51562 2.94238 3.17188 2.28613C3.85156 1.62988 4.63672 1.11426 5.52734 0.739258C6.41797 0.364258 7.36719 0.176758 8.375 0.176758C9.40625 0.176758 10.3672 0.364258 11.2578 0.739258C12.1484 1.11426 12.9219 1.62988 13.5781 2.28613C14.2344 2.94238 14.75 3.71582 15.125 4.60645C15.5 5.49707 15.6875 6.45801 15.6875 7.48926C15.6875 8.35645 15.5469 9.17676 15.2656 9.9502C15.0078 10.7002 14.6445 11.3799 14.1758 11.9893L17.6914 15.5049C17.8555 15.6689 17.9375 15.8799 17.9375 16.1377C17.9375 16.3955 17.8555 16.6182 17.6914 16.8057C17.5273 16.9697 17.3164 17.0518 17.0586 17.0518C16.8008 17.0518 16.5898 16.9697 16.4258 16.8057L12.9102 13.29C12.3008 13.7588 11.6094 14.1338 10.8359 14.415C10.0625 14.6729 9.24219 14.8018 8.375 14.8018ZM8.375 13.0088C9.14844 13.0088 9.86328 12.8682 10.5195 12.5869C11.1992 12.3057 11.7852 11.9189 12.2773 11.4268C12.793 10.9111 13.1914 10.3252 13.4727 9.66895C13.7539 8.98926 13.8945 8.2627 13.8945 7.48926C13.8945 6.71582 13.7539 6.00098 13.4727 5.34473C13.1914 4.66504 12.793 4.0791 12.2773 3.58691C11.7852 3.07129 11.1992 2.67285 10.5195 2.3916C9.86328 2.11035 9.14844 1.96973 8.375 1.96973C7.60156 1.96973 6.875 2.11035 6.19531 2.3916C5.53906 2.67285 4.96484 3.07129 4.47266 3.58691C3.98047 4.0791 3.59375 4.66504 3.3125 5.34473C3.03125 6.00098 2.89062 6.71582 2.89062 7.48926C2.89062 8.2627 3.03125 8.98926 3.3125 9.66895C3.59375 10.3252 3.98047 10.9111 4.47266 11.4268C4.96484 11.9189 5.53906 12.3057 6.19531 12.5869C6.875 12.8682 7.60156 13.0088 8.375 13.0088ZM5.35156 8.40332C5.09375 8.40332 4.87109 8.32129 4.68359 8.15723C4.51953 7.96973 4.4375 7.74707 4.4375 7.48926C4.4375 7.23145 4.51953 7.02051 4.68359 6.85645C4.87109 6.66895 5.09375 6.5752 5.35156 6.5752H7.49609V4.46582C7.49609 4.20801 7.57812 3.99707 7.74219 3.83301C7.90625 3.64551 8.11719 3.55176 8.375 3.55176C8.63281 3.55176 8.84375 3.64551 9.00781 3.83301C9.19531 3.99707 9.28906 4.20801 9.28906 4.46582V6.5752H11.4336C11.6914 6.5752 11.9023 6.66895 12.0664 6.85645C12.2305 7.02051 12.3125 7.23145 12.3125 7.48926C12.3125 7.74707 12.2305 7.96973 12.0664 8.15723C11.9023 8.32129 11.6914 8.40332 11.4336 8.40332H9.28906V10.5127C9.28906 10.7705 9.19531 10.9932 9.00781 11.1807C8.84375 11.3447 8.63281 11.4268 8.375 11.4268C8.11719 11.4268 7.90625 11.3447 7.74219 11.1807C7.57812 10.9932 7.49609 10.7705 7.49609 10.5127V8.40332H5.35156Z\" fill=\"#0040B0\"/>\r\n                    </svg>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div><div class=\"\" id=\"tour-end\"></div>`;\r\n    this.buildMobile(container);\r\n    this.buildDesktop(container);\r\n    this.setupEqualDescription();\r\n  }\r\n\r\n  buildMobile(sourceEl) {\r\n    let accordionClick_shadow = this.accordionClick.bind(this);\r\n    let advancePath_shadow = this.advancePath.bind(this);\r\n    let changeStep_shadow = this.changeStep.bind(this);\r\n    let container = sourceEl.querySelector(\".gt_mobile-main\");\r\n    let mobileExtra = sourceEl.querySelector(\".gt_mobile-extra\");\r\n    let overview = document.createElement(\"div\");\r\n    overview.className = \"gt_accordion gt_open\";\r\n    let btn = document.createElement(\"button\");\r\n    btn.setAttribute(\"aria-label\", this.config.overview.name);\r\n\r\n    btn.setAttribute(\"data-analytics-aa-tracking\", \"true\");\r\n    btn.setAttribute(\"data-analytics-aa-region\", \"Body\");\r\n    btn.setAttribute(\"data-analytics-aa-mediatitle\", (this.v.attribute + \" (mobile)\"));\r\n    btn.setAttribute(\"data-analytics-aa-mediatype\", \"Demo\");\r\n    btn.setAttribute(\"data-analytics-aa-linkname\", this.config.overview.name);\r\n    btn.setAttribute(\"data-analytics-aa-linktitle\", this.config.overview.name);\r\n\r\n    btn.className = \"gt_accordion-btn\";\r\n    btn.innerHTML = `<span class=\"\"><svg viewBox=\"0 0 6 10\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path d=\"M0.800005 9.99994C0.590005 9.99994 0.380005 9.91994 0.220005 9.74994C-0.0899951 9.42994 -0.0699963 8.91994 0.250004 8.61994L4.04 4.99994L0.250004 1.37994C-0.0699963 1.06994 -0.0799951 0.569939 0.220005 0.249939C0.530005 -0.0700608 1.03 -0.0800608 1.35 0.219939L5.75 4.41994C5.91 4.56994 6 4.77994 6 4.99994C6 5.21994 5.91 5.42994 5.75 5.57994L1.35 9.77994C1.2 9.92994 1 9.99994 0.800005 9.99994Z\"/></svg></span>`;\r\n    btn.innerHTML += '<p class=\"\">' + (this.config.overview.name || \"No name for overview\") + '</p>';\r\n    btn.addEventListener(\"click\", function() {\r\n      accordionClick_shadow(btn, false);\r\n    });\r\n    overview.append(btn);\r\n    let content = document.createElement(\"div\");\r\n    content.className = \"gt_accordion-content\";\r\n    let innerData = `<div class=\"gt_content-container\">\r\n      <img class=\"gt_image\" src=\"${(this.config.overview.imgPath)}\" alt=\"${(this.config.overview.imgAltText)}\">\r\n      </div>`;\r\n    let pictureInnerData = `<div class=\"gt_content-container\">\r\n      <picture>\r\n        <source type=\"image/webp\" srcset=\"${(this.config.overview.imgPathArray[0])}\" media=\"(min-width: 640px)\">\r\n        <source type=\"image/webp\" srcset=\"${(this.config.overview.imgPathArray[1])}\">\r\n        <source type=\"image/png\" srcset=\"${(this.config.overview.imgPathArray[2])}\" media=\"(min-width: 640px)\">\r\n        <img loading=\"lazy\" class=\"gt_image\" alt=\"${(this.config.overview.imgAltText)}\" src=\"${(this.config.overview.imgPathArray[3])}\">\r\n      </picture>\r\n      </div>`;\r\n    if (this.pictureMode) {\r\n      innerData = pictureInnerData;\r\n    }\r\n    if (this.config.overview.imgHybridView) {\r\n      sourceEl.classList.add(\"gt_hybrid_m\");\r\n    }\r\n\r\n    innerData += `<p class=\"gt_accordion-text\">\r\n        ${(this.config.overview.text || \"No text for overview\")}\r\n      </p>\r\n      <div class=\"\" style=\"width: 100%;\">\r\n        <button class=\"gt_link gt_start\"\r\n          aria-label=\"${this.config.overview.ctaText}\"\r\n          href=\"javascript:void(0)\"\r\n\r\n          data-analytics-aa-tracking=\"true\"\r\n          data-analytics-aa-region=\"Body\"\r\n          data-analytics-aa-mediatitle=\"${this.v.attribute} (mobile)\"\r\n          data-analytics-aa-mediatype=\"Demo\"\r\n          data-analytics-aa-linkname=\"${this.config.overview.ctaText}\"\r\n          data-analytics-aa-linktitle=\"${this.config.overview.name}\"\r\n        >\r\n          ${(this.config.overview.ctaText || \"No text for CTA\")}\r\n          <span class=\"gt_link-icon gt_link-icon-right\">\r\n            <svg viewBox=\"0 0 6 10\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M0.800005 9.99994C0.590005 9.99994 0.380005 9.91994 0.220005 9.74994C-0.0899951 9.42994 -0.0699963 8.91994 0.250004 8.61994L4.04 4.99994L0.250004 1.37994C-0.0699963 1.06994 -0.0799951 0.569939 0.220005 0.249939C0.530005 -0.0700608 1.03 -0.0800608 1.35 0.219939L5.75 4.41994C5.91 4.56994 6 4.77994 6 4.99994C6 5.21994 5.91 5.42994 5.75 5.57994L1.35 9.77994C1.2 9.92994 1 9.99994 0.800005 9.99994Z\"/>\r\n            </svg>\r\n          </span>\r\n        </button>\r\n      </div>`;\r\n\r\n    content.innerHTML = innerData;\r\n    let contentContainer = content.querySelector(\".gt_content-container\");\r\n    contentContainer.dataset.type = \"image\";\r\n    if (this.config.overview.type === \"video\") {\r\n      contentContainer.dataset.type = \"video\";\r\n      this.setupVideoStep(contentContainer, this.config.overview.videoPath, false);\r\n    }\r\n    content.querySelector(\".gt_start\").addEventListener(\"click\", function() {\r\n      advancePath_shadow(container, \".gt_open + .gt_accordion > button\");\r\n    });\r\n    overview.append(content);\r\n    this.v.preloadArr = [];\r\n\r\n    let tours = [];\r\n    this.config.tours.forEach((tour, index) => {\r\n      tour.steps.forEach( el => {\r\n        this.v.preloadArr.push({ path: el.content.imgPath, alt: el.content.imgAltText });\r\n      });\r\n      let lastTour = (index + 1 === this.config.tours.length);\r\n      let defaultInfo = tour.steps[0];\r\n      let item = document.createElement(\"div\");\r\n      item.className = \"gt_accordion\";\r\n      item.dataset.step = \"1\";\r\n      let btn = document.createElement(\"button\");\r\n      btn.setAttribute(\"aria-label\", tour.name);\r\n\r\n      btn.setAttribute(\"data-analytics-aa-tracking\", \"true\");\r\n      btn.setAttribute(\"data-analytics-aa-region\", \"Body\");\r\n      btn.setAttribute(\"data-analytics-aa-mediatitle\", (this.v.attribute + \" (mobile)\"));\r\n      btn.setAttribute(\"data-analytics-aa-mediatype\", \"Demo\");\r\n      btn.setAttribute(\"data-analytics-aa-linkname\", tour.name);\r\n      btn.setAttribute(\"data-analytics-aa-linktitle\", tour.name);\r\n\r\n      btn.className = \"gt_accordion-btn\";\r\n      btn.innerHTML = `<span class=\"\"><svg viewBox=\"0 0 6 10\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path d=\"M0.800005 9.99994C0.590005 9.99994 0.380005 9.91994 0.220005 9.74994C-0.0899951 9.42994 -0.0699963 8.91994 0.250004 8.61994L4.04 4.99994L0.250004 1.37994C-0.0699963 1.06994 -0.0799951 0.569939 0.220005 0.249939C0.530005 -0.0700608 1.03 -0.0800608 1.35 0.219939L5.75 4.41994C5.91 4.56994 6 4.77994 6 4.99994C6 5.21994 5.91 5.42994 5.75 5.57994L1.35 9.77994C1.2 9.92994 1 9.99994 0.800005 9.99994Z\"/></svg></span>`;\r\n      btn.innerHTML += '<p class=\"\">' + (tour.name || \"No name for this 'Tour'\") + '</p>';\r\n      btn.addEventListener(\"click\", function() {\r\n        accordionClick_shadow(btn, defaultInfo);\r\n      });\r\n      item.append(btn);\r\n      let content = document.createElement(\"div\");\r\n      content.className = \"gt_accordion-content\";\r\n      let innerData = `<div class=\"gt_content-container\"></div>`;\r\n      innerData += `<p class=\"gt_accordion-text\">\r\n          ${tour.steps[0].text}\r\n        </p><span class=\"gt_accordion-heightholdel\" data-tour=\"${index}\"\r\n        style=\"position:absolute;pointer-events:none;visibility:hidden;opacity:0;padding:0 0px 0 0px;width:100%;left:0;bottom:42px;\"></span>\r\n        <div class=\"gt_controls\">\r\n          <button class=\"gt_button-icon gt_previous\"\r\n            aria-label=\"Previous Step\"\r\n\r\n            data-analytics-aa-tracking=\"true\"\r\n            data-analytics-aa-region=\"Body\"\r\n            data-analytics-aa-mediatitle=\"${this.v.attribute} (mobile)\"\r\n            data-analytics-aa-mediatype=\"Demo\"\r\n            data-analytics-aa-linkname=\"Previous Step\"\r\n            data-analytics-aa-linktitle=\"${tour.name}\"\r\n          >\r\n            <svg viewBox=\"0 0 8 13\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M6.475 12.125C6.25 12.125 6.025 12.0462 5.85625 11.8775L0.90625 7.15249C0.72625 6.98374 0.625 6.74749 0.625 6.49999C0.625 6.25249 0.72625 6.01624 0.90625 5.84749L5.85625 1.12249C6.21625 0.773743 6.79 0.796243 7.1275 1.15624C7.47625 1.51624 7.45375 2.08999 7.09375 2.42749L2.83 6.49999L7.09375 10.5725C7.45375 10.9212 7.465 11.4837 7.1275 11.8437C6.9475 12.0237 6.71125 12.125 6.475 12.125Z\"/>\r\n            </svg>\r\n          </button>\r\n          <p class=\"\">\r\n            Step <span>1</span> of ${tour.steps.length + lastTour}\r\n          </p>\r\n          <button class=\"gt_button-icon gt_next\"\r\n            aria-label=\"Next Step\"\r\n\r\n            data-analytics-aa-tracking=\"true\"\r\n            data-analytics-aa-region=\"Body\"\r\n            data-analytics-aa-mediatitle=\"${this.v.attribute} (mobile)\"\r\n            data-analytics-aa-mediatype=\"Demo\"\r\n            data-analytics-aa-linkname=\"Next Step\"\r\n            data-analytics-aa-linktitle=\"${tour.name}\"\r\n          >\r\n            <svg viewBox=\"0 0 8 13\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M6.475 12.125C6.25 12.125 6.025 12.0462 5.85625 11.8775L0.90625 7.15249C0.72625 6.98374 0.625 6.74749 0.625 6.49999C0.625 6.25249 0.72625 6.01624 0.90625 5.84749L5.85625 1.12249C6.21625 0.773743 6.79 0.796243 7.1275 1.15624C7.47625 1.51624 7.45375 2.08999 7.09375 2.42749L2.83 6.49999L7.09375 10.5725C7.45375 10.9212 7.465 11.4837 7.1275 11.8437C6.9475 12.0237 6.71125 12.125 6.475 12.125Z\"/>\r\n            </svg>\r\n          </button>\r\n        </div>`;\r\n\r\n      content.innerHTML = innerData;\r\n      content.querySelector(\".gt_previous\").addEventListener(\"click\", function() {\r\n        changeStep_shadow(container, tour, item, false, tour.steps.length, lastTour);\r\n      });\r\n      content.querySelector(\".gt_next\").addEventListener(\"click\", function() {\r\n        changeStep_shadow(container, tour, item, true, tour.steps.length, lastTour);\r\n      });\r\n      item.append(content);\r\n      tours.push(item);\r\n    });\r\n\r\n    container.innerHTML = \"\";\r\n    container.append(overview);\r\n    tours.forEach( el => {\r\n      container.append(el);\r\n    });\r\n\r\n    //mobileExtra\r\n    if (this.config.overview.bottomText) {\r\n      let bottomText = document.createElement(\"h4\");\r\n      bottomText.className = \"\";\r\n      bottomText.innerHTML = this.config.overview.bottomText;\r\n      mobileExtra.append(bottomText);\r\n    }\r\n    let bottomCTAContainer = document.createElement(\"div\");\r\n    bottomCTAContainer.className = \"gt_mobile-extra_buttons\";\r\n    if (this.config.overview.bottomCTA1Text && this.config.overview.bottomCTA1Link) {\r\n      let cta1 = document.createElement(\"a\");\r\n      cta1.className = \"gt_button gt_button-primary\";\r\n      let cta1_transformed = window.SAP.InfoGraphics.createExtendLinkElement('requestDemo_M');\r\n      cta1_transformed.className += \" gt_button gt_button-primary\";\r\n\r\n      cta1.innerHTML = this.config.overview.bottomCTA1Text;\r\n      cta1.setAttribute(\"href\", this.config.overview.bottomCTA1Link);\r\n\r\n      cta1.setAttribute(\"data-analytics-aa-destinationurl\", this.config.overview.bottomCTA1Link);\r\n\r\n      cta1.setAttribute(\"aria-label\", this.config.overview.bottomCTA1Text);\r\n\r\n      cta1.setAttribute(\"data-analytics-aa-tracking\", \"true\");\r\n      cta1.setAttribute(\"data-analytics-aa-region\", \"Body\");\r\n      cta1.setAttribute(\"data-analytics-aa-mediatitle\", (this.v.attribute + \" (mobile)\"));\r\n      cta1.setAttribute(\"data-analytics-aa-mediatype\", \"Demo\");\r\n      cta1.setAttribute(\"data-analytics-aa-linkname\", this.config.overview.bottomCTA1Text);\r\n      cta1.setAttribute(\"data-analytics-aa-linktitle\", this.config.overview.bottomCTA1Text);\r\n      \r\n      if (window.SAP.InfoGraphics.getExtendLink('requestDemo_M')) {\r\n        bottomCTAContainer.append(cta1_transformed);\r\n      } else {\r\n        bottomCTAContainer.append(cta1);\r\n      }\r\n    }\r\n    if (this.config.overview.bottomCTA2Text && this.config.overview.bottomCTA2Link) {\r\n      let cta2 = document.createElement(\"a\");\r\n      cta2.className = \"gt_button gt_button-secondary\";\r\n      let cta2_transformed = window.SAP.InfoGraphics.createExtendLinkElement('visitProduct_M');\r\n      cta2_transformed.className += \" gt_button gt_button-secondary\";\r\n\r\n      cta2.innerHTML = this.config.overview.bottomCTA2Text;\r\n      cta2.setAttribute(\"href\", this.config.overview.bottomCTA2Link);\r\n\r\n      cta2.setAttribute(\"data-analytics-aa-destinationurl\", this.config.overview.bottomCTA2Link);\r\n\r\n      cta2.setAttribute(\"aria-label\", this.config.overview.bottomCTA2Text);\r\n\r\n      cta2.setAttribute(\"data-analytics-aa-tracking\", \"true\");\r\n      cta2.setAttribute(\"data-analytics-aa-region\", \"Body\");\r\n      cta2.setAttribute(\"data-analytics-aa-mediatitle\", (this.v.attribute + \" (mobile)\"));\r\n      cta2.setAttribute(\"data-analytics-aa-mediatype\", \"Demo\");\r\n      cta2.setAttribute(\"data-analytics-aa-linkname\", this.config.overview.bottomCTA2Text);\r\n      cta2.setAttribute(\"data-analytics-aa-linktitle\", this.config.overview.bottomCTA2Text);\r\n\r\n      if (window.SAP.InfoGraphics.getExtendLink('visitProduct_M')) {\r\n        bottomCTAContainer.append(cta2_transformed);\r\n      } else {\r\n        bottomCTAContainer.append(cta2);\r\n      }\r\n    }\r\n    mobileExtra.append(bottomCTAContainer);\r\n  }\r\n\r\n  buildDesktop(sourceEl) {\r\n    let escapeEnlargeModal_shadow = this.escapeEnlargeModal.bind(this);\r\n    let advancePath_shadow = this.advancePath.bind(this);\r\n    let navClick_shadow = this.navClick.bind(this);\r\n    let changeStepNav_shadow = this.changeStepNav.bind(this);\r\n    let wrapper = sourceEl.querySelector(\".gt_desktop\");\r\n    let col3 = wrapper.querySelector(\".col-3\");\r\n    col3.innerHTML = `<div class=\"gt_nav-wrapper\"></div>`;\r\n    let container = wrapper.querySelector(\".gt_nav-wrapper\");\r\n    let contentContainer = wrapper.querySelector(\".gt_content-container\");\r\n    let desktopExtra = wrapper.querySelector(\".gt_desktop-extra\");\r\n    let col12 = document.createElement(\"div\");\r\n    col12.className = \"col-12 gt_desktop-extra2\";\r\n    wrapper.append(col12);\r\n    let enlargeBtn = wrapper.querySelector(\".gt_enlarge\");\r\n\r\n    let overview = document.createElement(\"div\");\r\n    overview.className = \"gt_nav gt_active\";\r\n    let btn = document.createElement(\"button\");\r\n    btn.setAttribute(\"aria-label\", this.config.overview.name);\r\n\r\n    btn.setAttribute(\"data-analytics-aa-tracking\", \"true\");\r\n    btn.setAttribute(\"data-analytics-aa-region\", \"Body\");\r\n    btn.setAttribute(\"data-analytics-aa-mediatitle\", (this.v.attribute + \" (desktop)\"));\r\n    btn.setAttribute(\"data-analytics-aa-mediatype\", \"Demo\");\r\n    btn.setAttribute(\"data-analytics-aa-linkname\", this.config.overview.name);\r\n    btn.setAttribute(\"data-analytics-aa-linktitle\", this.config.overview.name);\r\n\r\n    btn.className = \"gt_focus gt_nav-btn\";\r\n    let text = \"<h3 class='m-0'>\" + (this.config.overview.name || \"No name for overview\") + \"</h3>\";\r\n    btn.innerHTML = text;\r\n\r\n    btn.addEventListener(\"click\", function() {\r\n      navClick_shadow(btn, false, contentContainer);\r\n    });\r\n    overview.append(btn);\r\n    let content = document.createElement(\"div\");\r\n    content.className = \"gt_nav-content\";\r\n    content.style.maxHeight = \"500px\";\r\n    let innerData = `<p class=\"gt_nav-text\">\r\n        ${(this.config.overview.text || \"No text for overview\")}\r\n      </p>\r\n      <div class=\"\">\r\n        <button class=\"gt_link gt_start\"\r\n          aria-label=\"${this.config.overview.ctaText}\"\r\n          href=\"javascript:void(0)\"\r\n\r\n          data-analytics-aa-tracking=\"true\"\r\n          data-analytics-aa-region=\"Body\"\r\n          data-analytics-aa-mediatitle=\"${this.v.attribute} (desktop)\"\r\n          data-analytics-aa-mediatype=\"Demo\"\r\n          data-analytics-aa-linkname=\"${this.config.overview.ctaText}\"\r\n          data-analytics-aa-linktitle=\"${this.config.overview.name}\"\r\n        >\r\n          ${(this.config.overview.ctaText || \"No text for CTA\")}\r\n          <span class=\"gt_link-icon gt_link-icon-right\">\r\n            <svg viewBox=\"0 0 6 10\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M0.800005 9.99994C0.590005 9.99994 0.380005 9.91994 0.220005 9.74994C-0.0899951 9.42994 -0.0699963 8.91994 0.250004 8.61994L4.04 4.99994L0.250004 1.37994C-0.0699963 1.06994 -0.0799951 0.569939 0.220005 0.249939C0.530005 -0.0700608 1.03 -0.0800608 1.35 0.219939L5.75 4.41994C5.91 4.56994 6 4.77994 6 4.99994C6 5.21994 5.91 5.42994 5.75 5.57994L1.35 9.77994C1.2 9.92994 1 9.99994 0.800005 9.99994Z\"/>\r\n            </svg>\r\n          </span>\r\n        </button>\r\n      </div>`;\r\n\r\n    content.innerHTML = innerData;\r\n    content.querySelector(\".gt_start\").addEventListener(\"click\", function() {\r\n      advancePath_shadow(container, \".gt_active + .gt_nav-separator + .gt_nav > button\");\r\n    });\r\n    overview.append(content);\r\n    contentContainer.innerHTML = '<img class=\"gt_image\" src=\"' +\r\n      (this.config.overview.imgPath) + '\" alt=\"' + (this.config.overview.imgAltText) +\r\n      '\">';\r\n    let pictureInnerData = `<picture>\r\n        <source type=\"image/webp\" srcset=\"${(this.config.overview.imgPathArray[0])}\" media=\"(min-width: 640px)\">\r\n        <source type=\"image/webp\" srcset=\"${(this.config.overview.imgPathArray[1])}\">\r\n        <source type=\"image/png\" srcset=\"${(this.config.overview.imgPathArray[2])}\" media=\"(min-width: 640px)\">\r\n        <img loading=\"lazy\" class=\"gt_image\" alt=\"${(this.config.overview.imgAltText)}\" src=\"${(this.config.overview.imgPathArray[3])}\">\r\n      </picture>`;\r\n    if (this.pictureMode) {\r\n      contentContainer.innerHTML = pictureInnerData;\r\n    }\r\n    contentContainer.dataset.type = \"image\";\r\n    if (this.config.overview.type === \"video\") {\r\n      contentContainer.dataset.type = \"video\";\r\n      this.setupVideoStep(contentContainer, this.config.overview.videoPath, true);\r\n    }\r\n    if (this.config.overview.imgHybridView) {\r\n      sourceEl.classList.add(\"gt_hybrid_d\");\r\n    }\r\n\r\n    let tours = [];\r\n    this.config.tours.forEach((tour, index) => {\r\n      let lastTour = (index + 1 === this.config.tours.length);\r\n      let defaultInfo = tour.steps[0];\r\n      let item = document.createElement(\"div\");\r\n      item.className = \"gt_nav\";\r\n      item.dataset.step = \"1\";\r\n      let btn = document.createElement(\"button\");\r\n      btn.setAttribute(\"aria-label\", tour.name);\r\n\r\n      btn.setAttribute(\"data-analytics-aa-tracking\", \"true\");\r\n      btn.setAttribute(\"data-analytics-aa-region\", \"Body\");\r\n      btn.setAttribute(\"data-analytics-aa-mediatitle\", (this.v.attribute + \" (desktop)\"));\r\n      btn.setAttribute(\"data-analytics-aa-mediatype\", \"Demo\");\r\n      btn.setAttribute(\"data-analytics-aa-linkname\", tour.name);\r\n      btn.setAttribute(\"data-analytics-aa-linktitle\", tour.name);\r\n\r\n      btn.className = \"gt_focus gt_nav-btn\";\r\n      let text = \"<h3 class='m-0'>\" + (tour.name || \"No name for this 'Tour'\") + \"</h3>\";\r\n      btn.innerHTML = text;\r\n\r\n      btn.addEventListener(\"click\", function() {\r\n        navClick_shadow(btn, defaultInfo, contentContainer);\r\n      });\r\n      item.append(btn);\r\n      let content = document.createElement(\"div\");\r\n      content.className = \"gt_nav-content\";\r\n      let innerData = `<p class=\"gt_nav-text\">\r\n          ${tour.steps[0].text}\r\n        </p><span class=\"gt_nav-heightholdel\" data-tour=\"${index}\"\r\n          style=\"position:absolute;pointer-events:none;visibility:hidden;opacity:0;padding:0 12px 0 16px;width:100%;left:0;top:0;\"></span>\r\n        <div class=\"gt_controls\">\r\n          <button class=\"gt_button-icon gt_previous\"\r\n            aria-label=\"Previous Step\"\r\n\r\n            data-analytics-aa-tracking=\"true\"\r\n            data-analytics-aa-region=\"Body\"\r\n            data-analytics-aa-mediatitle=\"${this.v.attribute} (desktop)\"\r\n            data-analytics-aa-mediatype=\"Demo\"\r\n            data-analytics-aa-linkname=\"Previous Step\"\r\n            data-analytics-aa-linktitle=\"${tour.name}\"\r\n            disabled\r\n          >\r\n            <svg viewBox=\"0 0 8 13\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M6.475 12.125C6.25 12.125 6.025 12.0462 5.85625 11.8775L0.90625 7.15249C0.72625 6.98374 0.625 6.74749 0.625 6.49999C0.625 6.25249 0.72625 6.01624 0.90625 5.84749L5.85625 1.12249C6.21625 0.773743 6.79 0.796243 7.1275 1.15624C7.47625 1.51624 7.45375 2.08999 7.09375 2.42749L2.83 6.49999L7.09375 10.5725C7.45375 10.9212 7.465 11.4837 7.1275 11.8437C6.9475 12.0237 6.71125 12.125 6.475 12.125Z\"/>\r\n            </svg>\r\n          </button>\r\n          <p class=\"\">\r\n            Step <span>1</span> of ${tour.steps.length + lastTour}\r\n          </p>\r\n          <button class=\"gt_button-icon gt_next\"\r\n            aria-label=\"Next Step\"\r\n\r\n            data-analytics-aa-tracking=\"true\"\r\n            data-analytics-aa-region=\"Body\"\r\n            data-analytics-aa-mediatitle=\"${this.v.attribute} (desktop)\"\r\n            data-analytics-aa-mediatype=\"Demo\"\r\n            data-analytics-aa-linkname=\"Next Step\"\r\n            data-analytics-aa-linktitle=\"${tour.name}\"\r\n            disabled\r\n          >\r\n            <svg viewBox=\"0 0 8 13\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M6.475 12.125C6.25 12.125 6.025 12.0462 5.85625 11.8775L0.90625 7.15249C0.72625 6.98374 0.625 6.74749 0.625 6.49999C0.625 6.25249 0.72625 6.01624 0.90625 5.84749L5.85625 1.12249C6.21625 0.773743 6.79 0.796243 7.1275 1.15624C7.47625 1.51624 7.45375 2.08999 7.09375 2.42749L2.83 6.49999L7.09375 10.5725C7.45375 10.9212 7.465 11.4837 7.1275 11.8437C6.9475 12.0237 6.71125 12.125 6.475 12.125Z\"/>\r\n            </svg>\r\n          </button>\r\n        </div>`;\r\n\r\n      content.innerHTML = innerData;\r\n      content.querySelector(\".gt_previous\").addEventListener(\"click\", function() {\r\n        changeStepNav_shadow(container, tour, item, false, tour.steps.length, lastTour, contentContainer);\r\n      });\r\n      content.querySelector(\".gt_next\").addEventListener(\"click\", function() {\r\n        changeStepNav_shadow(container, tour, item, true, tour.steps.length, lastTour, contentContainer);\r\n      });\r\n      item.append(content);\r\n      tours.push(item);\r\n    });\r\n\r\n    container.innerHTML = \"\";\r\n    container.append(overview);\r\n    tours.forEach( el => {\r\n      let separator = document.createElement(\"div\");\r\n      separator.className = \"gt_nav-separator\";\r\n      container.append(separator);\r\n      container.append(el);\r\n    });\r\n\r\n    let v_shadow = this.v;\r\n    enlargeBtn.addEventListener(\"click\", function() {\r\n      enlargeBtn.blur();\r\n      document.addEventListener('keydown', escapeEnlargeModal_shadow);\r\n      if (contentContainer.dataset.type = \"image\") {\r\n        let container = document.createElement(\"div\");\r\n        container.className = \"gt_modal\";\r\n        if (v_shadow.phone) {\r\n          container.classList.add(\"gt_phone\");\r\n        }\r\n        let flag = sourceEl.classList.contains(\"gt_hybrid_d\")\r\n        if (v_shadow.hybrid && flag) {\r\n          container.classList.add(\"gt_hybrid\");\r\n        }\r\n        let wrapper = document.createElement(\"div\");\r\n        wrapper.setAttribute(\"style\", \"position:relative;\")\r\n        wrapper.innerHTML = `<button class=\"gt_close\"\r\n          aria-label=\"Close\"\r\n\r\n          data-analytics-aa-tracking=\"true\"\r\n          data-analytics-aa-region=\"Body\"\r\n          data-analytics-aa-mediatitle=\"${v_shadow.attribute} (desktop)\"\r\n          data-analytics-aa-mediatype=\"Demo\"\r\n          data-analytics-aa-linkname=\"Close\"\r\n          data-analytics-aa-linktitle=\"Close\"\r\n        >\r\n          <svg class=\"\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M31.75 3.4225L28.5775 0.25L16 12.8275L3.4225 0.25L0.25 3.4225L12.8275 16L0.25 28.5775L3.4225 31.75L16 19.1725L28.5775 31.75L31.75 28.5775L19.1725 16L31.75 3.4225Z\"/></svg>\r\n        </button>`;\r\n        wrapper.innerHTML += contentContainer.innerHTML;\r\n        let btn = wrapper.querySelector(\"button\");\r\n        btn.addEventListener(\"click\", function() {\r\n          container.remove();\r\n          document.removeEventListener('keydown', escapeEnlargeModal_shadow);\r\n        });\r\n        let style = document.createElement(\"style\");\r\n        style.innerHTML = `.gt_modal {\r\n          display: flex;justify-content: center;align-items: center;align-content: center;\r\n          left: 0;right: 0;position: fixed;top: 0;bottom: 0;\r\n          background: rgba(0, 0, 0, .9);z-index: 2000;\r\n        }\r\n        .gt_modal img {min-width: auto;max-width: 80vw;max-height: 80vh;width: 100%;border: none;display: block;}\r\n        .gt_hybrid.gt_modal img,.gt_phone.gt_modal img {max-width: 414px;}\r\n        .gt_close {width: 32px;height: 32px;position: absolute;right: -45px;top: -45px;border: none;background: 0 0;padding: 0;cursor: pointer;}\r\n        .gt_close svg {width: 32px;height: 32px;fill: #fff;}\r\n        .gt_close:hover svg {opacity: .75;}\r\n        @media (min-width: 1280px) {.gt_modal img {max-width: 1120px;}}\r\n        @media (min-width: 1600px) {.gt_modal img {max-width: 1420px;}}`;\r\n        container.append(style);\r\n        container.append(wrapper);\r\n        document.body.append(container);\r\n      } else {\r\n\r\n      }\r\n    });\r\n\r\n    //desktopExtra\r\n    if (this.config.overview.bottomText) {\r\n      let bottomText = document.createElement(\"h4\");\r\n      bottomText.innerHTML = this.config.overview.bottomText;\r\n      if (this.v.phone) {\r\n        bottomText.className = \"gt_title\";\r\n        col12.append(bottomText);\r\n      } else {\r\n        desktopExtra.append(bottomText);\r\n      }\r\n    }\r\n    let bottomCTAContainer = document.createElement(\"div\");\r\n    bottomCTAContainer.className = \"gt_desktop-extra_buttons\";\r\n    if (this.config.overview.bottomCTA1Text && this.config.overview.bottomCTA1Link) {\r\n      let cta1 = document.createElement(\"a\");\r\n      cta1.className = \"gt_button gt_button-primary\";\r\n      let cta1_transformed = window.SAP.InfoGraphics.createExtendLinkElement('requestDemo_D');\r\n      cta1_transformed.className += \" gt_button gt_button-primary\";\r\n\r\n      cta1.innerHTML = this.config.overview.bottomCTA1Text;\r\n      cta1.setAttribute(\"href\", this.config.overview.bottomCTA1Link);\r\n\r\n      cta1.setAttribute(\"data-analytics-aa-destinationurl\", this.config.overview.bottomCTA1Link);\r\n\r\n      cta1.setAttribute(\"aria-label\", this.config.overview.bottomCTA1Text);\r\n\r\n      cta1.setAttribute(\"data-analytics-aa-tracking\", \"true\");\r\n      cta1.setAttribute(\"data-analytics-aa-region\", \"Body\");\r\n      cta1.setAttribute(\"data-analytics-aa-mediatitle\", (this.v.attribute + \" (desktop)\"));\r\n      cta1.setAttribute(\"data-analytics-aa-mediatype\", \"Demo\");\r\n      cta1.setAttribute(\"data-analytics-aa-linkname\", this.config.overview.bottomCTA1Text);\r\n      cta1.setAttribute(\"data-analytics-aa-linktitle\", this.config.overview.bottomCTA1Text);\r\n\r\n      if (window.SAP.InfoGraphics.getExtendLink('requestDemo_D')) {\r\n        bottomCTAContainer.append(cta1_transformed);\r\n      } else {\r\n        bottomCTAContainer.append(cta1);\r\n      }\r\n    }\r\n    if (this.config.overview.bottomCTA2Text && this.config.overview.bottomCTA2Link) {\r\n      let cta2 = document.createElement(\"a\");\r\n      cta2.className = \"gt_button gt_button-secondary\";\r\n      let cta2_transformed = window.SAP.InfoGraphics.createExtendLinkElement('visitProduct_D');\r\n      cta2_transformed.className += \" gt_button gt_button-secondary\";\r\n\r\n      cta2.innerHTML = this.config.overview.bottomCTA2Text;\r\n      cta2.setAttribute(\"href\", this.config.overview.bottomCTA2Link);\r\n\r\n      cta2.setAttribute(\"data-analytics-aa-destinationurl\", this.config.overview.bottomCTA2Link);\r\n\r\n      cta2.setAttribute(\"aria-label\", this.config.overview.bottomCTA2Text);\r\n\r\n      cta2.setAttribute(\"data-analytics-aa-tracking\", \"true\");\r\n      cta2.setAttribute(\"data-analytics-aa-region\", \"Body\");\r\n      cta2.setAttribute(\"data-analytics-aa-mediatitle\", (this.v.attribute + \" (desktop)\"));\r\n      cta2.setAttribute(\"data-analytics-aa-mediatype\", \"Demo\");\r\n      cta2.setAttribute(\"data-analytics-aa-linkname\", this.config.overview.bottomCTA2Text);\r\n      cta2.setAttribute(\"data-analytics-aa-linktitle\", this.config.overview.bottomCTA2Text);\r\n\r\n      if (window.SAP.InfoGraphics.getExtendLink('visitProduct_D')) {\r\n        bottomCTAContainer.append(cta2_transformed);\r\n      } else {\r\n        bottomCTAContainer.append(cta2);\r\n      }\r\n    }\r\n    if (this.v.phone) {\r\n      col12.append(bottomCTAContainer);\r\n    } else {\r\n      desktopExtra.append(bottomCTAContainer);\r\n    }\r\n  }\r\n\r\n  escapeEnlargeModal(e) {\r\n    // Escape 27\r\n    if (e.which === 27 || e.key === \"Escape\") {\r\n      let enlargeModalCloseBtn = document.querySelector('.gt_modal .gt_close');\r\n      !!enlargeModalCloseBtn && enlargeModalCloseBtn.click();\r\n    }\r\n  }\r\n\r\n  accordionClick(btn, defaultInfo) {\r\n    let openedAccordion = this.shadowRoot.querySelector(\".gt_accordion.gt_open\");\r\n    if (!!openedAccordion) {\r\n      this.resetAccordion(openedAccordion);\r\n      if (openedAccordion == btn.parentElement) {\r\n        openedAccordion.closest(\".gt_container\").classList.remove(\"gt_hybrid_m\");\r\n        return;\r\n      }\r\n    }\r\n    this.setupAccordion(btn.parentElement, defaultInfo);\r\n  }\r\n\r\n  resetAccordion(accordion) {\r\n    let contentContainer = accordion.querySelectorAll(\".gt_content-container\");\r\n    this.removeExtraElements(contentContainer[0]);\r\n\r\n    let mobileExtra = accordion.closest(\".gt_mobile\").querySelector(\".gt_mobile-extra\");\r\n    mobileExtra.classList.remove(\"d-none\");\r\n    accordion.classList.remove(\"gt_open\");\r\n    contentContainer.forEach( el => {\r\n      if (accordion.dataset.step !== undefined) {\r\n        el.innerHTML = \"\";\r\n        el.parentElement.classList.remove(\"gt_last-step\", \"gt_hide-img\");\r\n      }\r\n    });\r\n  };\r\n\r\n  setupAccordion(accordion, defaultInfo) {\r\n    // tracking?\r\n    let sectionName = accordion.querySelector(\".gt_accordion-btn\").getAttribute(\"aria-label\");\r\n    this.dispatchEvent(new CustomEvent('accordionHeaderClicked', {\r\n      detail: { sectionName },\r\n      bubbles: true,\r\n      composed: true\r\n    }));\r\n    console.log(\"MOBILE-accordion-header-opened event dispatched\");\r\n    this.logEvent('MOBILE-accordion-header-opened', `Accordion header opened: ${sectionName}`);\r\n    // tracking?\r\n    let hybridFlag = false;\r\n    let contentContainer = accordion.querySelector(\".gt_content-container\");\r\n    this.removeExtraElements(contentContainer);\r\n    if (defaultInfo) {\r\n      accordion.dataset.step = \"1\";\r\n      accordion.querySelector(\".gt_next\").removeAttribute(\"disabled\");\r\n      accordion.querySelector(\".gt_controls p span\").innerHTML = \"1\";\r\n      accordion.querySelector(\".gt_accordion-text\").innerHTML = defaultInfo.text;\r\n\r\n      contentContainer.innerHTML = '<img class=\"gt_image\" src=\"' + (defaultInfo.content.imgPath) + '\" alt=\"' + (defaultInfo.content.imgAltText) + '\">';\r\n      let pictureInnerData = `<picture>\r\n          <source type=\"image/webp\" srcset=\"${(defaultInfo.content.imgPathArray[0])}\" media=\"(min-width: 640px)\">\r\n          <source type=\"image/webp\" srcset=\"${(defaultInfo.content.imgPathArray[1])}\">\r\n          <source type=\"image/png\" srcset=\"${(defaultInfo.content.imgPathArray[2])}\" media=\"(min-width: 640px)\">\r\n          <img loading=\"lazy\" class=\"gt_image\" alt=\"${(defaultInfo.content.imgAltText)}\" src=\"${(defaultInfo.content.imgPathArray[3])}\">\r\n        </picture>`;\r\n      if (this.pictureMode) {\r\n        contentContainer.innerHTML = pictureInnerData;\r\n      }\r\n      if (defaultInfo.content.type === \"image\") {\r\n        contentContainer.dataset.type = \"image\";\r\n      } else if (defaultInfo.content.type === \"video\") {\r\n        contentContainer.dataset.type = \"video\";\r\n        this.setupVideoStep(contentContainer, defaultInfo.content.videoPath, false);\r\n      }\r\n      hybridFlag = defaultInfo.content.imgHybridView;\r\n    } else {\r\n      if (this.config.overview.type === \"image\") {\r\n        contentContainer.dataset.type = \"image\";\r\n      } else if (this.config.overview.type === \"video\") {\r\n        contentContainer.dataset.type = \"video\";\r\n        this.setupVideoStep(contentContainer, this.config.overview.videoPath, false);\r\n      }\r\n      hybridFlag = this.config.overview.imgHybridView;\r\n    }\r\n    let sourceEl = accordion.closest(\".gt_container\");\r\n    if (hybridFlag) {\r\n      sourceEl.classList.add(\"gt_hybrid_m\");\r\n    } else {\r\n      sourceEl.classList.remove(\"gt_hybrid_m\");\r\n    }\r\n    accordion.classList.add(\"gt_open\");\r\n    let content = accordion.querySelector(\".gt_accordion-content\");\r\n    this.setEqualDescription(content);\r\n    // let height = 0;\r\n    // content.childNodes.forEach((el,index) => {\r\n    //   height += el.offsetHeight;\r\n    //   if (index === 0) {\r\n    //     el.style.minHeight = height + \"px\";\r\n    //   }\r\n    // });\r\n    // height += 20 + 24 + 24; // top M 1st el Mb 2nd el Mb\r\n    // content.style.maxHeight = height + \"px\";\r\n    //content.style.maxHeight = 10000 + \"px\";\r\n  };\r\n\r\n  navClick(btn, defaultInfo, contentContainer) {\r\n    btn.blur();\r\n    let openedNav = this.shadowRoot.querySelector(\".gt_nav.gt_active\");\r\n    if (!!openedNav) {\r\n      let sameNavFlag = openedNav == btn.parentElement;\r\n      this.resetNav(openedNav, contentContainer, !sameNavFlag);\r\n      if (sameNavFlag) {\r\n        return;\r\n      }\r\n    }\r\n    this.setupNav(btn.parentElement, defaultInfo, contentContainer);\r\n  }\r\n\r\n  resetNav(nav, contentContainer, skipImageChange) {\r\n    this.removeExtraElements(contentContainer);\r\n    this.removeFinalStep(contentContainer);\r\n    let btns = nav.querySelectorAll(\".gt_start, .gt_next, .gt_previous\");\r\n    btns.forEach( el => {\r\n      el.setAttribute(\"disabled\", \"disabled\");\r\n    });\r\n    if (this.config.overview.type === \"image\") {\r\n      contentContainer.dataset.type = \"image\";\r\n      contentContainer.parentElement.dataset.type = \"image\";\r\n    } else if (this.config.overview.type === \"video\") {\r\n      contentContainer.dataset.type = \"video\";\r\n      this.setupVideoStep(contentContainer, this.config.overview.videoPath, true);\r\n    }\r\n    this.changeImage(contentContainer, this.config.overview.imgPathArray, this.config.overview.imgPath, this.config.overview.imgAltText, this.config.overview.imgHybridView, \"_d\", skipImageChange);\r\n    let desktopExtra = nav.closest(\".gt_desktop\").querySelector(\".gt_desktop-extra\");\r\n    desktopExtra.classList.remove(\"d-none\");\r\n    let desktopExtra2 = nav.closest(\".gt_desktop\").querySelector(\".gt_desktop-extra2\");\r\n    if (this.v.phone) {\r\n      desktopExtra2.classList.remove(\"d-none\");\r\n    }\r\n    nav.classList.remove(\"gt_active\");\r\n    let navContent = nav.querySelector(\".gt_nav-content\");\r\n    navContent.removeAttribute(\"style\");\r\n  };\r\n\r\n  setupNav(nav, defaultInfo, contentContainer) {\r\n    // tracking?\r\n    let sectionName = nav.querySelector(\".gt_nav-btn\").getAttribute(\"aria-label\");\r\n    this.dispatchEvent(new CustomEvent('accordionHeaderClicked', {\r\n      detail: { sectionName },\r\n      bubbles: true,\r\n      composed: true\r\n    }));\r\n    console.log(\"DESKTOP-accordion-header-opened event dispatched\");\r\n    this.logEvent('DESKTOP-accordion-header-opened', `Accordion header opened: ${sectionName}`);\r\n    // tracking?\r\n    this.removeExtraElements(contentContainer);\r\n    let btns = nav.querySelectorAll(\".gt_start, .gt_next, .gt_previous\");\r\n    btns.forEach( el => {\r\n      el.removeAttribute(\"disabled\");\r\n    });\r\n    if (defaultInfo) {\r\n      nav.dataset.step = \"1\";\r\n      nav.querySelector(\".gt_controls p span\").innerHTML = \"1\";\r\n      nav.querySelector(\".gt_nav-text\").innerHTML = defaultInfo.text;\r\n\r\n      if (defaultInfo.content.type === \"image\") {\r\n        contentContainer.dataset.type = \"image\";\r\n        contentContainer.parentElement.dataset.type = \"image\";\r\n      } else if (defaultInfo.content.type === \"video\") {\r\n        contentContainer.dataset.type = \"video\";\r\n        this.setupVideoStep(contentContainer, defaultInfo.content.videoPath, true);\r\n      }\r\n      this.changeImage(contentContainer, defaultInfo.content.imgPathArray, defaultInfo.content.imgPath, defaultInfo.content.imgAltText, defaultInfo.content.imgHybridView, \"_d\");\r\n    } else {\r\n      if (this.config.overview.type === \"image\") {\r\n        contentContainer.dataset.type = \"image\";\r\n      } else if (this.config.overview.type === \"video\") {\r\n        contentContainer.dataset.type = \"video\";\r\n        this.setupVideoStep(contentContainer, this.config.overview.videoPath, true);\r\n      }\r\n      this.changeImage(contentContainer, this.config.overview.imgPathArray, this.config.overview.imgPath, this.config.overview.imgAltText, this.config.overview.imgHybridView, \"_d\");\r\n    }\r\n    nav.classList.add(\"gt_active\");\r\n    let navContent = nav.querySelector(\".gt_nav-content\");\r\n    this.setEqualDescription(navContent);\r\n    let height = 0;\r\n    navContent.childNodes.forEach((el) => {\r\n      if (el.tagName === \"P\" || el.tagName === \"DIV\") {\r\n        height += el.offsetHeight;\r\n      }\r\n    });\r\n    height += 40 + 48; // p margin + extra 2 rows\r\n    navContent.style.maxHeight = height + \"px\";\r\n  };\r\n\r\n  advancePath(container, selector) {\r\n    let nextPath = container.querySelector(selector);\r\n    !!nextPath && nextPath.click();\r\n  };\r\n\r\n  changeStep(container, tour, item, forward, stepsCount, lastTour) {\r\n    // tracking?\r\n    let sectionName = tour.name;\r\n    let currentSlide = +item.dataset.step;\r\n    if (forward) {\r\n      this.logEvent('MOBILE-carousel-next-clicked', `Carousel next button clicked: Section ${sectionName}, Slide ${currentSlide}`);\r\n    } else {\r\n      this.logEvent('MOBILE-carousel-prev-clicked', `Carousel previous button clicked: Section ${sectionName}, Slide ${currentSlide}`);\r\n    }\r\n    // tracking?\r\n    let currentStep = +item.dataset.step;\r\n    let nextStep = forward ? currentStep + 1 : currentStep - 1;\r\n    item.dataset.step = nextStep;\r\n    let nextBtn = item.querySelector(\".gt_next\");\r\n    let mobileExtra = item.closest(\".gt_mobile\").querySelector(\".gt_mobile-extra\");\r\n    let skipA = false;\r\n\r\n    let contentContainer = item.querySelector(\".gt_content-container\");\r\n    this.removeExtraElements(contentContainer);\r\n    if (nextStep === (stepsCount + 1)) {\r\n      if (lastTour) {\r\n        nextBtn.setAttribute(\"disabled\", \"disabled\");\r\n        contentContainer.parentElement.classList.add(\"gt_last-step\", \"gt_hide-img\");\r\n        contentContainer.innerHTML += `<div class=\"gt_content-modal\">\r\n        <h3 class=\"\">${this.config.overview.finalSlideTitle}</h3>\r\n        <div class=\"gt_content-modal_buttons\">\r\n          \r\n        </div>\r\n        <div class=\"gt_content-modal_link\">\r\n          <a href=\"javascript:void(0)\"\r\n            class=\"gt_link\"\r\n            \r\n            aria-label=\"${this.config.overview.startAgainText}\"\r\n\r\n            data-analytics-aa-tracking=\"true\"\r\n            data-analytics-aa-region=\"Body\"\r\n            data-analytics-aa-mediatitle=\"${this.v.attribute} (mobile)\"\r\n            data-analytics-aa-mediatype=\"Demo\"\r\n            data-analytics-aa-linkname=\"${this.config.overview.startAgainText}\"\r\n            data-analytics-aa-linktitle=\"${this.config.overview.startAgainText}\"\r\n          >\r\n            ${this.config.overview.startAgainText}\r\n            <span class=\"gt_link-icon gt_link-icon-right\">\r\n              <svg viewBox=\"0 0 6 10\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M0.800005 9.99994C0.590005 9.99994 0.380005 9.91994 0.220005 9.74994C-0.0899951 9.42994 -0.0699963 8.91994 0.250004 8.61994L4.04 4.99994L0.250004 1.37994C-0.0699963 1.06994 -0.0799951 0.569939 0.220005 0.249939C0.530005 -0.0700608 1.03 -0.0800608 1.35 0.219939L5.75 4.41994C5.91 4.56994 6 4.77994 6 4.99994C6 5.21994 5.91 5.42994 5.75 5.57994L1.35 9.77994C1.2 9.92994 1 9.99994 0.800005 9.99994Z\"/>\r\n              </svg>\r\n            </span>\r\n          </a></div>\r\n        </div>`;\r\n        let staticBtn1 = `<a href=\"${this.config.overview.finalSlideCTA1Link}\"\r\n                            class=\"gt_button gt_button-primary\"\r\n\r\n                            data-analytics-aa-destinationurl=\"${this.config.overview.finalSlideCTA1Link}\"\r\n                            aria-label=\"${this.config.overview.finalSlideCTA1Text}\"\r\n\r\n                            data-analytics-aa-tracking=\"true\"\r\n                            data-analytics-aa-region=\"Body\"\r\n                            data-analytics-aa-mediatitle=\"${this.v.attribute} (mobile)\"\r\n                            data-analytics-aa-mediatype=\"Demo\"\r\n                            data-analytics-aa-linkname=\"${this.config.overview.finalSlideCTA1Text}\"\r\n                            data-analytics-aa-linktitle=\"${this.config.overview.finalSlideCTA1Text}\"\r\n                          >\r\n                            ${this.config.overview.finalSlideCTA1Text}\r\n                          </a>`;\r\n        let staticBtn2 = `<a href=\"${this.config.overview.finalSlideCTA2Link}\"\r\n                            class=\"gt_button gt_button-secondary\"\r\n                            \r\n                            data-analytics-aa-destinationurl=\"${this.config.overview.finalSlideCTA2Link}\"\r\n                            aria-label=\"${this.config.overview.finalSlideCTA2Text}\"\r\n\r\n                            data-analytics-aa-tracking=\"true\"\r\n                            data-analytics-aa-region=\"Body\"\r\n                            data-analytics-aa-mediatitle=\"${this.v.attribute} (mobile)\"\r\n                            data-analytics-aa-mediatype=\"Demo\"\r\n                            data-analytics-aa-linkname=\"${this.config.overview.finalSlideCTA2Text}\"\r\n                            data-analytics-aa-linktitle=\"${this.config.overview.finalSlideCTA2Text}\"\r\n                          >\r\n                            ${this.config.overview.finalSlideCTA2Text}\r\n                          </a>`;\r\n        let btnContainer = contentContainer.querySelector(\".gt_content-modal_buttons\");\r\n\r\n        let cta1_transformed = window.SAP.InfoGraphics.createExtendLinkElement('requestDemo_M');\r\n        cta1_transformed.className += \" gt_button gt_button-primary\";\r\n        if (window.SAP.InfoGraphics.getExtendLink('requestDemo_M')) {\r\n          btnContainer.append(cta1_transformed);\r\n        } else {\r\n          btnContainer.innerHTML += staticBtn1;\r\n        }\r\n        let cta2_transformed = window.SAP.InfoGraphics.createExtendLinkElement('visitProduct_M');\r\n        cta2_transformed.className += \" gt_button gt_button-secondary\";\r\n        if (this.config.overview.finalSlideCTA2Text) {\r\n          if (window.SAP.InfoGraphics.getExtendLink('visitProduct_M')) {\r\n            btnContainer.append(cta2_transformed);\r\n          } else {\r\n            btnContainer.innerHTML += staticBtn2;\r\n          }\r\n        }\r\n\r\n        let startOver = contentContainer.querySelector(\".gt_link\");\r\n        startOver.addEventListener(\"click\", function() {\r\n          let firstPathBtn = container.querySelector(\".gt_accordion[data-step] > button\");\r\n          !!firstPathBtn && firstPathBtn.click();\r\n          window.scrollTo({\r\n            top: container.offsetTop,\r\n            //behavior: \"smooth\"\r\n          });\r\n        });\r\n\r\n        mobileExtra.classList.add(\"d-none\");\r\n      } else {\r\n        this.advancePath(container, \".gt_open + .gt_accordion > button\");\r\n        skipA = true;\r\n      }\r\n    } else if (nextStep === 0) {\r\n      let accordions = container.querySelectorAll('.gt_accordion');\r\n      accordions.forEach((el, index) => {\r\n        if (el.classList.contains(\"gt_open\")) {\r\n          accordions[index - 1].querySelector(\"button\").click();\r\n        }\r\n      });\r\n      skipA = true;\r\n    } else {\r\n      if (tour.steps[nextStep - 1].content.type === \"image\") {\r\n        contentContainer.dataset.type = \"image\";\r\n      } else if (tour.steps[nextStep - 1].content.type === \"video\") {\r\n        contentContainer.dataset.type = \"video\";\r\n        this.setupVideoStep(contentContainer, tour.steps[nextStep - 1].content.videoPath, false);\r\n      }\r\n      this.changeImage(contentContainer, tour.steps[nextStep - 1].content.imgPathArray, tour.steps[nextStep - 1].content.imgPath, tour.steps[nextStep - 1].content.imgAltText, tour.steps[nextStep - 1].content.imgHybridView, \"_m\");\r\n\r\n      let text = item.querySelector(\".gt_accordion-content > p\");\r\n      text.innerHTML = tour.steps[nextStep - 1].text;\r\n      contentContainer.parentElement.classList.remove(\"gt_last-step\", \"gt_hide-img\");\r\n      this.removeFinalStep(contentContainer);\r\n      nextBtn.removeAttribute(\"disabled\");\r\n      mobileExtra.classList.remove(\"d-none\");\r\n    }\r\n    let stepNumber = item.querySelector(\".gt_controls p span\");\r\n    if (!skipA) {\r\n      stepNumber.innerHTML = nextStep;\r\n    }\r\n  };\r\n\r\n  changeStepNav(container, tour, item, forward, stepsCount, lastTour, contentContainer) {\r\n    // tracking?\r\n    let sectionName = tour.name;\r\n    let currentSlide = +item.dataset.step;\r\n    if (forward) {\r\n      this.logEvent('DESKTOP-carousel-next-clicked', `Carousel next button clicked: Section ${sectionName}, Slide ${currentSlide}`);\r\n    } else {\r\n      this.logEvent('DESKTOP-carousel-prev-clicked', `Carousel previous button clicked: Section ${sectionName}, Slide ${currentSlide}`);\r\n    }\r\n    // tracking?\r\n    let currentStep = +item.dataset.step;\r\n    let nextStep = forward ? currentStep + 1 : currentStep - 1;\r\n    item.dataset.step = nextStep;\r\n    let nextBtn = item.querySelector(\".gt_next\");\r\n    let desktopExtra = item.closest(\".gt_desktop\").querySelector(\".gt_desktop-extra\");\r\n    let desktopExtra2 = item.closest(\".gt_desktop\").querySelector(\".gt_desktop-extra2\");\r\n    let skipA = false;\r\n\r\n    this.removeExtraElements(contentContainer);\r\n    if (nextStep === (stepsCount + 1)) {\r\n      if (lastTour) {\r\n        nextBtn.setAttribute(\"disabled\", \"disabled\");\r\n        let info = document.createElement(\"div\");\r\n        info.className = \"gt_content-modal\";\r\n        info.innerHTML = `<div class=\"gt_content-info\">\r\n        <h3 class=\"\">${this.config.overview.finalSlideTitle}</h3>\r\n        <div class=\"gt_content-info_buttons\">\r\n          \r\n        </div>\r\n        <div class=\"gt_content-info_link\">\r\n          <a href=\"javascript:void(0)\"\r\n            class=\"gt_link\"\r\n            \r\n            aria-label=\"${this.config.overview.startAgainText}\"\r\n\r\n            data-analytics-aa-tracking=\"true\"\r\n            data-analytics-aa-region=\"Body\"\r\n            data-analytics-aa-mediatitle=\"${this.v.attribute} (desktop)\"\r\n            data-analytics-aa-mediatype=\"Demo\"\r\n            data-analytics-aa-linkname=\"${this.config.overview.startAgainText}\"\r\n            data-analytics-aa-linktitle=\"${this.config.overview.startAgainText}\"\r\n          >\r\n            ${this.config.overview.startAgainText}\r\n            <span class=\"gt_link-icon gt_link-icon-right\">\r\n              <svg viewBox=\"0 0 6 10\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M0.800005 9.99994C0.590005 9.99994 0.380005 9.91994 0.220005 9.74994C-0.0899951 9.42994 -0.0699963 8.91994 0.250004 8.61994L4.04 4.99994L0.250004 1.37994C-0.0699963 1.06994 -0.0799951 0.569939 0.220005 0.249939C0.530005 -0.0700608 1.03 -0.0800608 1.35 0.219939L5.75 4.41994C5.91 4.56994 6 4.77994 6 4.99994C6 5.21994 5.91 5.42994 5.75 5.57994L1.35 9.77994C1.2 9.92994 1 9.99994 0.800005 9.99994Z\"/>\r\n              </svg>\r\n            </span>\r\n          </a></div>\r\n        </div>`;\r\n\r\n        let staticBtn1 = `<a href=\"${this.config.overview.finalSlideCTA1Link}\"\r\n                            class=\"gt_button gt_button-primary\"\r\n                            \r\n                            data-analytics-aa-destinationurl=\"${this.config.overview.finalSlideCTA1Link}\"\r\n                            aria-label=\"${this.config.overview.finalSlideCTA1Text}\"\r\n\r\n                            data-analytics-aa-tracking=\"true\"\r\n                            data-analytics-aa-region=\"Body\"\r\n                            data-analytics-aa-mediatitle=\"${this.v.attribute} (desktop)\"\r\n                            data-analytics-aa-mediatype=\"Demo\"\r\n                            data-analytics-aa-linkname=\"${this.config.overview.finalSlideCTA1Text}\"\r\n                            data-analytics-aa-linktitle=\"${this.config.overview.finalSlideCTA1Text}\"\r\n                          >\r\n                            ${this.config.overview.finalSlideCTA1Text}\r\n                          </a>`;\r\n        let staticBtn2 = `<a href=\"${this.config.overview.finalSlideCTA2Link}\"\r\n                            class=\"${this.config.overview.finalSlideCTA2Text ? \"\": \"d-none\"} gt_button gt_button-secondary\"\r\n                            \r\n                            data-analytics-aa-destinationurl=\"${this.config.overview.finalSlideCTA2Link}\"\r\n                            aria-label=\"${this.config.overview.finalSlideCTA2Text}\"\r\n\r\n                            data-analytics-aa-tracking=\"true\"\r\n                            data-analytics-aa-region=\"Body\"\r\n                            data-analytics-aa-mediatitle=\"${this.v.attribute} (desktop)\"\r\n                            data-analytics-aa-mediatype=\"Demo\"\r\n                            data-analytics-aa-linkname=\"${this.config.overview.finalSlideCTA2Text}\"\r\n                            data-analytics-aa-linktitle=\"${this.config.overview.finalSlideCTA2Text}\"\r\n                          >\r\n                            ${this.config.overview.finalSlideCTA2Text}\r\n                          </a>`;\r\n        let btnContainer = info.querySelector(\".gt_content-info_buttons\");\r\n\r\n        let cta1_transformed = window.SAP.InfoGraphics.createExtendLinkElement('requestDemo_D');\r\n        cta1_transformed.className += \" gt_button gt_button-primary\";\r\n        if (window.SAP.InfoGraphics.getExtendLink('requestDemo_D')) {\r\n          btnContainer.append(cta1_transformed);\r\n        } else {\r\n          btnContainer.innerHTML += staticBtn1;\r\n        }\r\n        let cta2_transformed = window.SAP.InfoGraphics.createExtendLinkElement('visitProduct_D');\r\n        if (!this.config.overview.finalSlideCTA2Text) {\r\n          cta2_transformed.className += \" d-none\";\r\n        }\r\n        cta2_transformed.className += \" gt_button gt_button-secondary\";\r\n        if (window.SAP.InfoGraphics.getExtendLink('visitProduct_D')) {\r\n          btnContainer.append(cta2_transformed);\r\n        } else {\r\n          btnContainer.innerHTML += staticBtn2;\r\n        }\r\n\r\n        let startOver = info.querySelector(\".gt_link\");\r\n        startOver.addEventListener(\"click\", function() {\r\n          let firstPathBtn = container.querySelector(\".gt_nav[data-step] > button\");\r\n          !!firstPathBtn && firstPathBtn.click();\r\n          window.scrollTo({\r\n            top: container.offsetTop,\r\n            //behavior: \"smooth\"\r\n          });\r\n        });\r\n        contentContainer.append(info);\r\n\r\n        desktopExtra.classList.add(\"d-none\");\r\n        if (this.v.phone) {\r\n          desktopExtra2.classList.add(\"d-none\");\r\n        }\r\n      } else {\r\n        this.advancePath(container, \".gt_active + .gt_nav-separator + .gt_nav > button\");\r\n        skipA = true;\r\n      }\r\n    } else if (nextStep === 0) {\r\n      let navs = container.querySelectorAll('.gt_nav');\r\n      navs.forEach((el, index) => {\r\n        if (el.classList.contains(\"gt_active\")) {\r\n          navs[index - 1].querySelector(\"button\").click();\r\n        }\r\n      });\r\n      skipA = true;\r\n    } else {\r\n      if (tour.steps[nextStep - 1].content.type === \"image\") {\r\n        contentContainer.dataset.type = \"image\";\r\n        contentContainer.parentElement.dataset.type = \"image\";\r\n      } else if (tour.steps[nextStep - 1].content.type === \"video\") {\r\n        contentContainer.dataset.type = \"video\";\r\n        this.setupVideoStep(contentContainer, tour.steps[nextStep - 1].content.videoPath, true);\r\n      }\r\n      this.changeImage(contentContainer, tour.steps[nextStep - 1].content.imgPathArray, tour.steps[nextStep - 1].content.imgPath, tour.steps[nextStep - 1].content.imgAltText, tour.steps[nextStep - 1].content.imgHybridView, \"_d\");\r\n\r\n      let text = item.querySelector(\".gt_nav-text\");\r\n      text.innerHTML = tour.steps[nextStep - 1].text;\r\n      this.removeFinalStep(contentContainer);\r\n      nextBtn.removeAttribute(\"disabled\");\r\n      desktopExtra.classList.remove(\"d-none\");\r\n      if (this.v.phone) {\r\n        desktopExtra2.classList.remove(\"d-none\");\r\n      }\r\n      let navContent = item.querySelector(\".gt_nav-content\");\r\n      let height = 0;\r\n      navContent.childNodes.forEach((el) => {\r\n        if (el.tagName === \"P\" || el.tagName === \"DIV\") {\r\n          height += el.offsetHeight;\r\n        }\r\n      });\r\n      height += 40 + 48; // p margin + extra 2 rows\r\n      navContent.style.maxHeight = height + \"px\";\r\n    }\r\n    let stepNumber = item.querySelector(\".gt_controls p span\");\r\n    if (!skipA) {\r\n      stepNumber.innerHTML = nextStep;\r\n    }\r\n  };\r\n\r\n  removeFinalStep(contentContainer) {\r\n    let finalInfo = contentContainer.querySelectorAll('.gt_content-modal');\r\n    finalInfo.forEach( el => {\r\n      el.remove();\r\n    });\r\n  }\r\n\r\n  changeImage(container, pathArray, newPath, newAlt, hybridFlag, size_prefix, skipFlag) {\r\n    if (skipFlag) {return;}\r\n    let image = new Image();\r\n    image.src = newPath;\r\n    let sipmpleTransition = false;\r\n    let hybribClassName = \"gt_hybrid\" + size_prefix;\r\n    let sourceEl = container.closest(\".gt_container\");\r\n    if (hybridFlag) {\r\n      sourceEl.classList.add(hybribClassName);\r\n      sipmpleTransition = true;\r\n    } else {\r\n      sipmpleTransition = sourceEl.classList.contains(hybribClassName);\r\n      sourceEl.classList.remove(hybribClassName);\r\n    }\r\n    if (this.pictureMode) {\r\n      let pictureSources = container.querySelectorAll(\"source\");\r\n      pictureSources.forEach( (el, index) => {\r\n        el.srcset = pathArray[index];\r\n      });\r\n    }\r\n    let img = container.querySelector(\"img\");\r\n    img.style = \"transition: all .2s linear 0s; opacity: 0;\";\r\n    setTimeout(() => {\r\n      img.setAttribute(\"src\", newPath);\r\n      img.setAttribute(\"alt\", newAlt);\r\n      //img.style = \"transition: all .4s linear 0s; opacity: 1;\";\r\n      img.style.transition = \"all .4s linear 0s\";\r\n      img.style.opacity = \"1\";\r\n    }, 300);\r\n    if (sipmpleTransition || this.pictureMode) {\r\n      img.setAttribute(\"src\", newPath);\r\n      img.setAttribute(\"alt\", newAlt);\r\n      img.style = \"transition: none;\";\r\n    }\r\n    img.removeAttribute(\"title\");\r\n    if (newAlt === \"\") {\r\n      img.style.outline = \"50px groove blue\";\r\n      img.style.outlineOffset = \"-150px\";\r\n      img.title = \"Alternative text is missing.\"\r\n    }\r\n  }\r\n\r\n  removeExtraElements(container) {\r\n    container.classList.remove(\"gt_video-container\");\r\n    let extraEl = container.querySelectorAll('video, .gt_video-btn_container, .gt_hot-spot_container');\r\n    extraEl.forEach( el => {\r\n      el.remove();\r\n    });\r\n  }\r\n\r\n  setupVideoStep(container, videoPath, desktopFlag) {\r\n    let btn = document.createElement(\"div\");\r\n    btn.className = \"gt_video-btn_container\";\r\n    btn.innerHTML = `<button class=\"gt_video-btn\"\r\n    \r\n      aria-label=\"Play\"\r\n\r\n      data-analytics-aa-tracking=\"true\"\r\n      data-analytics-aa-region=\"Body\"\r\n      data-analytics-aa-mediatitle=\"${this.v.attribute} (desktop)\"\r\n      data-analytics-aa-mediatype=\"Demo\"\r\n      data-analytics-aa-linkname=\"Play\"\r\n      data-analytics-aa-linktitle=\"Play\"\r\n      >\r\n        <svg class=\"\" width=\"12\" height=\"12\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M50 0C22.4375 0 0 22.4375 0 50C0 77.5625 22.4375 100 50 100C77.5625 100 100 77.5625 100 50C100 22.4375 77.5625 0 50 0ZM50 90C27.9375 90 10 72.0625 10 50C10 27.9375 27.9375 10 50 10C72.0625 10 90 27.9375 90 50C90 72.0625 72.0625 90 50 90ZM66.625 45.9375C67.9375 46.875 68.75 48.375 68.75 50C68.75 51.625 67.9375 53.125 66.625 54.0625L45.375 69.0625C44.5 69.6875 43.5 70 42.5 70C41.6875 70 40.9375 69.8125 40.1875 69.4375C38.5 68.5625 37.5 66.875 37.5 65V35C37.5 33.125 38.5625 31.4375 40.1875 30.5625C41.875 29.6875 43.8125 29.8125 45.375 30.9375L66.625 45.9375Z\"/></svg>\r\n      </button>`;\r\n    container.append(btn);\r\n    if (desktopFlag) {\r\n      container.parentElement.dataset.type = \"video\";\r\n    }\r\n    container.querySelector(\".gt_video-btn\").addEventListener(\"click\", function() {\r\n      container.innerHTML +=`<video class=\"gt_video\" preload=\"auto\" controls autoplay loop playsinline webkit-playsinline x5-playsinline src=\"${videoPath}\"></video>`;\r\n      container.classList.add(\"gt_video-container\");\r\n    });\r\n  }\r\n\r\n  setupEqualDescription() {\r\n    if (!this.v.equalHeight) { return; }\r\n    let items = this.shadowRoot.querySelectorAll('.gt_nav-heightholdel, .gt_accordion-heightholdel');\r\n    this.defineLongestDescription();\r\n    items.forEach( el => {\r\n      el.innerHTML = this.v.longest[el.dataset.tour].text;\r\n    });\r\n  }\r\n\r\n  defineLongestDescription() {\r\n    this.v.longest = [];\r\n    this.config.tours.forEach( el => {\r\n      let s = {\r\n        length: 0,\r\n        text: \"\",\r\n      };\r\n      el.steps.forEach(item => {\r\n        if (item.text.length > s.length) {\r\n          s.length = item.text.length;\r\n          s.text = item.text;\r\n        }\r\n      });\r\n      this.v.longest.push(s);\r\n    });\r\n  }\r\n\r\n  setEqualDescription(item) {\r\n    if (!this.v.equalHeight) { return; }\r\n    let span = item.querySelector(\"span\");\r\n    if (!span) { return; }\r\n    let p = item.querySelector(\"p\");\r\n    p.style.minHeight = span.clientHeight + \"px\";\r\n  }\r\n}\r\n\r\ncustomElements.define(\"product-tour\", ProductTour);"
            },
            {
              "name": "product-tour-events.js",
              "format": "text/javascript",
              "content": "function setupListeners () { // 15-08-2024\r\n  const eventLog = document.getElementById('event-log');\r\n  //console.log(`%cEvent log textarea ${eventLog ? \"WAS\" : \"NOT\"} found!`, \"color: gold;\");\r\n  if (!eventLog) {\r\n    return;\r\n  }\r\n\r\n  const events = [];\r\n\r\n  function logEvent(eventType, detail) {\r\n    const eventSchema = {\r\n      \"$schema\": \"https://json-schema.org/draft/2019-09/schema\",\r\n      \"type\": \"object\",\r\n      \"properties\": {\r\n        \"event\": {\r\n          \"examples\": [eventType],\r\n          \"description\": \"name of the event\",\r\n          \"title\": \"event\",\r\n          \"type\": \"string\",\r\n          \"$id\": \"#root/event/\"\r\n        },\r\n        \"pageComponents\": {\r\n          \"title\": \"pageComponents\",\r\n          \"type\": \"object\",\r\n          \"properties\": {\r\n            \"pageComponents\": {\r\n              \"additionalItems\": false,\r\n              \"description\": \"On component click array\",\r\n              \"title\": \"pageComponents\",\r\n              \"type\": \"array\",\r\n              \"items\": [\r\n                {\r\n                  \"name\": {\r\n                    \"$id\": \"#root/pageComponents/pageComponents/name/\",\r\n                    \"description\": \"Name of component clicked\",\r\n                    \"examples\": [detail.sectionName || detail.altText || detail.functionName || ''],\r\n                    \"title\": \"name\",\r\n                    \"type\": \"string\"\r\n                  }\r\n                }\r\n              ],\r\n              \"required\": [\"name\"],\r\n              \"$id\": \"#root/pageComponents/pageComponents/\"\r\n            }\r\n          },\r\n          \"required\": [\"pageComponents\"],\r\n          \"unevaluatedProperties\": false,\r\n          \"$id\": \"#root/pageComponents/\"\r\n        }\r\n      },\r\n      \"required\": [\"event\", \"pageComponents\"],\r\n      \"unevaluatedProperties\": false,\r\n      \"$id\": \"https://github.tools.sap/CXS/event-schema/tree/develop/schemas/sap.ies.cxs.eddl.pagecomponentclick.v.0.1.json\"\r\n    };\r\n\r\n    events.push(eventSchema);\r\n    const eventText = JSON.stringify(eventSchema, null, 2);\r\n    console.log(`%c${eventText}`, \"color: green;\");\r\n    if (!!eventLog) {\r\n      eventLog.value += eventText + '\\n';\r\n      eventLog.scrollTop = eventLog.scrollHeight; // Auto-scroll to the bottom\r\n    }\r\n  }\r\n\r\n  document.addEventListener('tourStarted', (event) => logEvent('tourStarted', event.detail));\r\n  document.addEventListener('imageLoaded', (event) => logEvent('imageLoaded', event.detail));\r\n  document.addEventListener('accordionHeaderClicked', (event) => logEvent('accordionHeaderClicked', event.detail));\r\n  document.addEventListener('carouselPrevClicked', (event) => logEvent('carouselPrevClicked', event.detail));\r\n  document.addEventListener('carouselNextClicked', (event) => logEvent('carouselNextClicked', event.detail));\r\n}\r\n\r\nsetupListeners();"
            },
            {
              "name": "product-tour-event-tech-spec.txt",
              "format": "text/plain",
              "content": "# Event System Requirements for Product Tour Web Component \r\n\r\n \r\n\r\n## Table of Contents \r\n\r\n1. [Technical Requirement Document for Events](#1-technical-requirement-document-for-events) \r\n\r\n2. [Detailed Technical Specification](#2-detailed-technical-specification) \r\n\r\n3. [Events Requirements Technical Document](#3-events-requirements-technical-document) \r\n\r\n4. [Events Requirements in Jira Story Format](#4-events-requirements-in-jira-story-format) \r\n\r\n \r\n\r\nThese events will be available in a Micro Frontend (MFE) adaptor layer scenario. In an MFE architecture, the adaptor layer serves as an intermediary between different micro frontends or between micro frontends and the main application. The custom events bubbling up from the web component would be accessible at this layer, allowing the adaptor to capture, transform, or relay these events as needed for inter-MFE communication or for integration with the larger application ecosystem \r\n\r\n \r\n\r\n \r\n\r\n## 1. Technical Requirement Document for Events \r\n\r\n \r\n\r\n### 1.1 Overview \r\n\r\nThe Product Tour web component requires an event system that allows it to communicate with the host webpage DOM. This system will utilize Adobe Analytics for link tracking and event data layer. \r\n\r\n \r\n\r\n### 1.2 Requirements \r\n\r\n \r\n\r\n#### #### 1.2.1 Event Bubbling and Propagation \r\n\r\n- The web component must dispatch custom events that bubble up to the host webpage DOM. \r\n\r\n- Events should be captured and processed by a separate events.js file. \r\n\r\n- When creating custom events, set both `bubbles` and `composed` flags to `true`: \r\n\r\n  ```javascript \r\n\r\n  new CustomEvent('eventName', { \r\n\r\n    bubbles: true, \r\n\r\n    composed: true, \r\n\r\n    detail: { /* event data */ } \r\n\r\n  }) \r\n\r\n  ``` \r\n\r\n- The `composed: true` flag is crucial for allowing events to cross shadow DOM boundaries. \r\n\r\n- Use event delegation in the host page to efficiently handle events from multiple instances of the web component. \r\n\r\n- Implement a `stopPropagation()` mechanism for cases where event bubbling needs to be controlled or stopped. \r\n\r\n- Consider using a custom event prefix (e.g., 'product-tour:') to avoid naming conflicts with other events in the host page. \r\n\r\n- Ensure that all interactive elements within the shadow DOM use appropriate ARIA attributes for accessibility, as some events may not naturally bubble. \r\n\r\n- For performance optimization, use passive event listeners where appropriate: \r\n\r\n  ```javascript \r\n\r\n  document.addEventListener('eventName', handler, { passive: true }); \r\n\r\n  ``` \r\n\r\n- Implement error handling for cases where event bubbling fails or events are not captured as expected. \r\n\r\n- Document the event bubbling behavior clearly for developers integrating the web component. \r\n\r\n \r\n\r\n#### 1.2.2 Event Types \r\n\r\n- tourStarted: Triggered when the tour begins. \r\n\r\n- imageLoaded: Triggered when an image is loaded in the tour. \r\n\r\n- accordionHeaderClicked: Triggered when an accordion header is clicked. \r\n\r\n- carouselPrevClicked: Triggered when the previous button in a carousel is clicked. \r\n\r\n- carouselNextClicked: Triggered when the next button in a carousel is clicked. \r\n\r\n \r\n\r\n#### 1.2.3 Event Data \r\n\r\n- Each event should carry relevant data about the action performed. \r\n\r\n- Data should include, but not limited to: event name, section name, step number, and any other relevant details. \r\n\r\n \r\n\r\n#### 1.2.4 Adobe Analytics Integration \r\n\r\n- Events should be compatible with Adobe Analytics link tracking. \r\n\r\n- Events should populate the Adobe Analytics event data layer with relevant information. \r\n\r\n \r\n\r\n#### 1.2.5 Logging \r\n\r\n- All events should be logged for debugging purposes when in development mode. \r\n\r\n \r\n\r\n#### 1.2.6 Performance \r\n\r\n- The event system should have minimal impact on the overall performance of the web component and the host webpage. \r\n\r\n \r\n\r\n#### 1.2.7 Standardization \r\n\r\n- Develop a standardized approach for event dispatch and capture in web components. \r\n\r\n- Create a set of best practices and conventions for event naming, data structure, and handling. \r\n\r\n- Ensure the standard is scalable and can be applied to future web components. \r\n\r\n- Document the standard for easy reference and onboarding of new developers. \r\n\r\n \r\n\r\n### 1.3 Constraints \r\n\r\n- The event system must work across different browsers and devices. \r\n\r\n- It should not interfere with any existing event listeners on the host webpage. \r\n\r\n \r\n\r\n### 1.4 Assumptions \r\n\r\n- The host webpage will have Adobe Analytics properly configured. \r\n\r\n- The events.js file will have access to the necessary Adobe Analytics methods. \r\n\r\n \r\n\r\n### 1.5 Dependencies \r\n\r\n- Adobe Analytics library \r\n\r\n- Product Tour web component implementation \r\n\r\n \r\n\r\n## 2. Detailed Technical Specification \r\n\r\n \r\n\r\n### 2.1 Event Dispatching \r\n\r\n- The Product Tour web component will use the CustomEvent API to create and dispatch events. \r\n\r\n- Events will be dispatched with the bubbles and composed options set to true to ensure they propagate through the shadow DOM boundary. \r\n\r\n- Example: \r\n\r\n  ```javascript \r\n\r\n  this.dispatchEvent(new CustomEvent('tourStarted', { \r\n\r\n    detail: { message: 'Tour has started!' }, \r\n\r\n    bubbles: true, \r\n\r\n    composed: true \r\n\r\n  })); \r\n\r\n  ``` \r\n\r\n \r\n\r\n### 2.2 Event Listening \r\n\r\n- The events.js file will set up event listeners on the document object to capture events bubbling up from the web component. \r\n\r\n- Event listeners will use event delegation to efficiently handle multiple events. \r\n\r\n- Example: \r\n\r\n  ```javascript \r\n\r\n  document.addEventListener('tourStarted', (event) => logEvent('tourStarted', event.detail)); \r\n\r\n  ``` \r\n\r\n \r\n\r\n### 2.3 Event Data Structure (EXAMPLE TBD with Analytics) \r\n\r\n- Each event will follow a consistent data structure: \r\n\r\n  ```javascript \r\n\r\n  { \r\n\r\n    \"$schema\": \"https://json-schema.org/draft/2019-09/schema\", \r\n\r\n    \"type\": \"object\", \r\n\r\n    \"properties\": { \r\n\r\n      \"event\": { \r\n\r\n        \"type\": \"string\", \r\n\r\n        \"description\": \"Name of the event\" \r\n\r\n      }, \r\n\r\n      \"pageComponents\": { \r\n\r\n        \"type\": \"object\", \r\n\r\n        \"properties\": { \r\n\r\n          \"pageComponents\": { \r\n\r\n            \"type\": \"array\", \r\n\r\n            \"items\": [ \r\n\r\n              { \r\n\r\n                \"name\": { \r\n\r\n                  \"type\": \"string\", \r\n\r\n                  \"description\": \"Name of component clicked\" \r\n\r\n                } \r\n\r\n              } \r\n\r\n            ] \r\n\r\n          } \r\n\r\n        } \r\n\r\n      } \r\n\r\n    } \r\n\r\n  } \r\n\r\n  ``` \r\n\r\n \r\n\r\n### 2.4 Adobe Analytics Integration \r\n\r\n- The events.js file will populate the Adobe Analytics data layer with event information. \r\n\r\n- Example: \r\n\r\n  ```javascript \r\n\r\n  btn.setAttribute(\"data-analytics-aa-tracking\", \"true\"); \r\n\r\n  btn.setAttribute(\"data-analytics-aa-region\", \"Body\"); \r\n\r\n  btn.setAttribute(\"data-analytics-aa-mediatitle\", this.v.attribute + \" (mobile)\"); \r\n\r\n  btn.setAttribute(\"data-analytics-aa-mediatype\", \"Demo\"); \r\n\r\n  btn.setAttribute(\"data-analytics-aa-linkname\", this.config.overview.ctaText); \r\n\r\n  btn.setAttribute(\"data-analytics-aa-linktitle\", this.config.overview.name); \r\n\r\n  ``` \r\n\r\n \r\n\r\n### 2.5 Logging \r\n\r\n- A logEvent function will be implemented in events.js to handle logging of all events. \r\n\r\n- Logging will only occur when isDevMode is set to true. \r\n\r\n- Example: \r\n\r\n  ```javascript \r\n\r\n  function logEvent(eventType, detail) { \r\n\r\n    if (isDevMode) { \r\n\r\n      console.log(`Event: ${eventType}, Detail: ${JSON.stringify(detail)}, Timestamp: ${new Date().toISOString()}`); \r\n\r\n    } \r\n\r\n  } \r\n\r\n  ``` \r\n\r\n \r\n\r\n### 2.6 Performance Considerations \r\n\r\n- Event listeners will be passive where possible to improve scrolling performance. \r\n\r\n- Event data will be kept minimal to reduce overhead in event dispatching and processing. \r\n\r\n \r\n\r\n### 2.7 Cross-browser Compatibility \r\n\r\n- The CustomEvent API will be used with a polyfill for older browsers if necessary (?) \r\n\r\n- Event listener options (like passive) will be feature-detected before use. \r\n\r\n \r\n\r\n## 3. Events Requirements Technical Document \r\n\r\n \r\n\r\n### 3.1 Event System Overview (TBD) \r\n\r\nThe Product Tour web component requires an event system that allows it to communicate user interactions and state changes to the host webpage. This system will leverage custom events and integrate with Adobe Analytics for tracking and analysis. \r\n\r\n \r\n\r\n### 3.2 Event Types and Triggers \r\n\r\n1. tourStarted \r\n\r\n   - Triggered when: The tour is initialized and ready to begin. \r\n\r\n   - Data: { message: 'Tour has started!' } \r\n\r\n \r\n\r\n2. imageLoaded \r\n\r\n   - Triggered when: An image in the tour completes loading. \r\n\r\n   - Data: { imageUrl: string, loadTime: number } \r\n\r\n \r\n\r\n3. accordionHeaderClicked \r\n\r\n   - Triggered when: User clicks on an accordion header to expand/collapse a section. \r\n\r\n   - Data: { sectionName: string, isExpanded: boolean } \r\n\r\n \r\n\r\n4. carouselPrevClicked \r\n\r\n   - Triggered when: User clicks the \"previous\" button in a carousel. \r\n\r\n   - Data: { sectionName: string, currentSlide: number } \r\n\r\n \r\n\r\n5. carouselNextClicked \r\n\r\n   - Triggered when: User clicks the \"next\" button in a carousel. \r\n\r\n   - Data: { sectionName: string, currentSlide: number } \r\n\r\n \r\n\r\n### 3.3 Event Data Structure \r\n\r\nAll events will follow a consistent JSON schema structure for easy parsing and analysis. \r\n\r\n****TBD with Analytics Team***** \r\n\r\n \r\n\r\n### 3.4 Adobe Analytics Integration \r\n\r\n- Each interactive element will include data-analytics-aa-* attributes for link tracking. \r\n\r\n- Events will populate the Adobe Analytics data layer with relevant information. \r\n\r\n \r\n\r\n### 3.5 Event Logging \r\n\r\nA logging system will be implemented for debugging purposes, active only in development mode. \r\n\r\n \r\n\r\n### 3.6 Performance and Compatibility \r\n\r\n- The event system will be optimized for performance with minimal overhead. \r\n\r\n- Cross-browser compatibility will be ensured, with polyfills used where necessary. \r\n\r\n \r\n\r\n### 3.7 Implementation Details \r\n\r\n- The web component (ProductTour.js) will dispatch custom events. \r\n\r\n- A separate file (events.js) will handle listening for these events and processing them. \r\n\r\n \r\n\r\n### 3.8 Testing Requirements \r\n\r\n- Unit tests for each event type to ensure correct data is being sent. \r\n\r\n- Integration tests to verify events are bubbling up to the host DOM correctly. \r\n\r\n- End-to-end tests to confirm Adobe Analytics is receiving and processing the events accurately. \r\n\r\n \r\n\r\n \r\n\r\n \r\n\r\n \r\n\r\n \r\n\r\n \r\n\r\n \r\n\r\nDRAFT STORIES TBDefined  \r\n\r\n \r\n\r\n## 4. Events Requirements in Jira Story Format \r\n\r\n \r\n\r\n### Epic: Implement Event System for Product Tour Web Component \r\n\r\n \r\n\r\n#### Story 1: Set up Custom Event Dispatching in Web Component \r\n\r\nAs a developer, I want the Product Tour web component to dispatch custom events so that user interactions can be tracked and analyzed. \r\n\r\n \r\n\r\nAcceptance Criteria: \r\n\r\n- Implement tourStarted event \r\n\r\n- Implement imageLoaded event \r\n\r\n- Implement accordionHeaderClicked event \r\n\r\n- Implement carouselPrevClicked event \r\n\r\n- Implement carouselNextClicked event \r\n\r\n- Ensure all events bubble up to the host DOM \r\n\r\n- Include relevant data with each event \r\n\r\n- Add unit tests for each event type \r\n\r\n \r\n\r\n#### Story 2: Create Event Listening and Processing System \r\n\r\nAs a developer, I want a separate system to listen for and process events from the web component so that we can decouple event handling from component logic. \r\n\r\n \r\n\r\nAcceptance Criteria: \r\n\r\n- Create events.js file \r\n\r\n- Implement event listeners for all custom events \r\n\r\n- Create logEvent function for debugging \r\n\r\n- Ensure event listening works across browsers \r\n\r\n- Add integration tests to verify event bubbling and capturing \r\n\r\n \r\n\r\n#### Story 3: Integrate Adobe Analytics Tracking \r\n\r\nAs a marketing analyst, I want the event system to integrate with Adobe Analytics so that we can track user interactions with the Product Tour. \r\n\r\n \r\n\r\nAcceptance Criteria: \r\n\r\n- Add data-analytics-aa-* attributes to interactive elements \r\n\r\n- Implement logic to populate Adobe Analytics data layer \r\n\r\n- Ensure all relevant event data is sent to Adobe Analytics \r\n\r\n- Add end-to-end tests for Adobe Analytics integration \r\n\r\n \r\n\r\n#### Story 4: Implement Event Logging System \r\n\r\nAs a developer, I want a logging system for events so that I can debug issues in development mode. \r\n\r\n \r\n\r\nAcceptance Criteria: \r\n\r\n- Create isDevMode flag \r\n\r\n- Implement logEvent function that only logs in dev mode \r\n\r\n- Ensure all events are passed through the logging system \r\n\r\n- Add toggle for enabling/disabling logging \r\n\r\n \r\n\r\n#### Story 5: Optimize Event System Performance \r\n\r\nAs a user, I want the event system to have minimal impact on the Product Tour's performance so that I have a smooth experience using the tour. \r\n\r\n \r\n\r\nAcceptance Criteria: \r\n\r\n- Use passive event listeners where applicable \r\n\r\n- Minimize event data payload size \r\n\r\n- Implement debouncing for frequent events (if any) \r\n\r\n- Conduct performance tests to ensure minimal overhead \r\n\r\n \r\n\r\n#### Story 6: Ensure Cross-browser Compatibility \r\n\r\nAs a user, I want the event system to work consistently across different browsers so that I have a uniform experience regardless of my browser choice. \r\n\r\n \r\n\r\nAcceptance Criteria: \r\n\r\n- Test event system in latest versions of Chrome, Firefox, Safari, and Edge \r\n\r\n- Implement necessary polyfills for older browsers \r\n\r\n- Add cross-browser tests to the test suite \r\n\r\n \r\n\r\n#### Story 7: Create Web Component Event Dispatch and Capture Standard \r\n\r\nAs a lead developer, I want to establish a standardized approach for event dispatch and capture in web components so that we can ensure consistency, improve maintainability, and facilitate easier integration of current and future web components. \r\n\r\n \r\n\r\nAcceptance Criteria: \r\n\r\n- Develop a naming convention for custom events (e.g., componentName:eventType) \r\n\r\n- Create a standardized event data structure that can be adapted for different components \r\n\r\n- Establish best practices for event bubbling and composition \r\n\r\n- Define guidelines for integrating with analytics systems (e.g., Adobe Analytics) \r\n\r\n- Create a standard for error and edge case handling in events \r\n\r\n- Develop a documentation template for describing component events \r\n\r\n- Create a set of utility functions or a small library to assist with standard event handling \r\n\r\n- Ensure the standard is compatible with shadow DOM encapsulation \r\n\r\n- Write comprehensive documentation explaining the standard, its implementation, and benefits \r\n\r\n- Create examples demonstrating the standard's application in various scenarios \r\n\r\n- Develop a migration guide for updating existing components to the new standard \r\n\r\n- Conduct a team review and training session on the new standard \r\n\r\n \r\n\r\nTasks: \r\n\r\n1. Research existing event standards and best practices in web components \r\n\r\n2. Draft initial proposal for the event standard \r\n\r\n3. Review proposal with the development team and gather feedback \r\n\r\n4. Revise and finalize the event standard documentation \r\n\r\n5. Create utility functions or library for standard event handling \r\n\r\n6. Develop example implementations using the new standard \r\n\r\n7. Update the Product Tour component to adhere to the new standard \r\n\r\n8. Create migration guide for existing components \r\n\r\n9. Conduct team training session on the new standard \r\n\r\n10. Implement the standard in one additional web component as a proof of concept \r\n\r\n11. Gather feedback and make necessary adjustments to the standard \r\n\r\nMetadata \r\n\r\nTags \r\n\r\nproduct/sap-ariba-category-management, product/sap-ariba-buying-and-invoicing,  \r\n\r\n "
            },
            {
              "name": "product-tour-html.html",
              "format": "text/html",
              "content": "<body>\r\n  <product-tour data-config=\"https://www.sap.com/fragments/product-tours/integrated-business-planning-adjusted.plain.html\"></product-tour>\r\n\r\n  <script src=\"https://cdn.udex.services.sap.com/dxf/latest/product-tour/product-tour.js\"></script>\r\n  <script src=\"https://cdn.udex.services.sap.com/dxf/latest/product-tour/product-tour-event.js\"></script>\r\n\r\n  <!-- link transformation feature code -->\r\n  <!-- https://wiki.one.int.sap/wiki/pages/viewpage.action?spaceKey=SAPONEDX&title=Interactive+Infographic+-+Link+transformer -->\r\n  <script id=\"SAPInfographicsConfig\">SAP.InfoGraphics.config = {\r\n    \"images\": [],\r\n    \"textData\": [],\r\n    \"links\": [\r\n      {\r\n        \"id\": \"requestDemo_D\",\r\n        \"target\": \"_self\",\r\n        \"path\": \"/content/sapdx/languages/en_us/registration/request-demo.html\",\r\n        \"title\": \"Request a live demo\",\r\n        \"tooltip\": \"Request a live demo\",\r\n        \"additionalAttributes\": {\r\n          \"aria-label\": \"{{title}}\",\r\n          \"data-analytics-aa-tracking\": \"true\",\r\n          \"data-analytics-aa-region\": \"Body\",\r\n          \"data-analytics-aa-mediatitle\": \"Guided Product Tour (desktop)\",\r\n          \"data-analytics-aa-mediatype\": \"Demo\",\r\n          \"data-analytics-aa-linkname\": \"{{title}}\",\r\n          \"data-analytics-aa-linktitle\": \"{{title}}\",\r\n          \"data-analytics-aa-destinationurl\": \"{{path}}\"\r\n        }\r\n      },\r\n      {\r\n        \"id\": \"visitProduct_D\",\r\n        \"target\": \"_self\",\r\n        \"path\": \"/content/sapdx/languages/en_us/products/scm/integrated-business-planning.html\",\r\n        \"title\": \"Visit the product page\",\r\n        \"tooltip\": \"Visit the product page\",\r\n        \"additionalAttributes\": {\r\n          \"aria-label\": \"{{title}}\",\r\n          \"data-analytics-aa-tracking\": \"true\",\r\n          \"data-analytics-aa-region\": \"Body\",\r\n          \"data-analytics-aa-mediatitle\": \"Guided Product Tour (desktop)\",\r\n          \"data-analytics-aa-mediatype\": \"Demo\",\r\n          \"data-analytics-aa-linkname\": \"{{title}}\",\r\n          \"data-analytics-aa-linktitle\": \"{{title}}\",\r\n          \"data-analytics-aa-destinationurl\": \"{{path}}\"\r\n        }\r\n      },\r\n      {\r\n        \"id\": \"requestDemo_M\",\r\n        \"target\": \"_self\",\r\n        \"path\": \"/content/sapdx/languages/en_us/registration/request-demo.html\",\r\n        \"title\": \"Request a live demo\",\r\n        \"tooltip\": \"Request a live demo\",\r\n        \"additionalAttributes\": {\r\n          \"aria-label\": \"{{title}}\",\r\n          \"data-analytics-aa-tracking\": \"true\",\r\n          \"data-analytics-aa-region\": \"Body\",\r\n          \"data-analytics-aa-mediatitle\": \"Guided Product Tour (mobile)\",\r\n          \"data-analytics-aa-mediatype\": \"Demo\",\r\n          \"data-analytics-aa-linkname\": \"{{title}}\",\r\n          \"data-analytics-aa-linktitle\": \"{{title}}\",\r\n          \"data-analytics-aa-destinationurl\": \"{{path}}\"\r\n        }\r\n      },\r\n      {\r\n        \"id\": \"visitProduct_M\",\r\n        \"target\": \"_self\",\r\n        \"path\": \"/content/sapdx/languages/en_us/products/scm/integrated-business-planning.html\",\r\n        \"title\": \"Visit the product page\",\r\n        \"tooltip\": \"Visit the product page\",\r\n        \"additionalAttributes\": {\r\n          \"aria-label\": \"{{title}}\",\r\n          \"data-analytics-aa-tracking\": \"true\",\r\n          \"data-analytics-aa-region\": \"Body\",\r\n          \"data-analytics-aa-mediatitle\": \"Guided Product Tour (mobile)\",\r\n          \"data-analytics-aa-mediatype\": \"Demo\",\r\n          \"data-analytics-aa-linkname\": \"{{title}}\",\r\n          \"data-analytics-aa-linktitle\": \"{{title}}\",\r\n          \"data-analytics-aa-destinationurl\": \"{{path}}\"\r\n        }\r\n      }\r\n    ],\r\n    \"data\": []\r\n  }</script>\r\n</body>"
            }
          ]
        }
        Word Count: 9386
        
        Token Count: 30928</textarea>
</div>
</body>
</html>
